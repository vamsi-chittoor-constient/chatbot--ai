# =============================================================================
# Restaurant AI Assistant - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Restaurant AI Assistant
APP_VERSION=1.0.0
ENVIRONMENT=development  # development | staging | production
DEBUG=true               # Set to false in production
LOG_LEVEL=INFO           # DEBUG | INFO | WARNING | ERROR
SECRET_KEY=your-secret-key-here-change-in-production

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://admin:admin@localhost:5432/restaurant_ai
DB_HOST=localhost
DB_PORT=5432
DB_NAME=restaurant_ai
DB_USER=admin
DB_PASSWORD=your-db-password-here

# -----------------------------------------------------------------------------
# Redis Configuration (Session & Caching)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Response Caching
ENABLE_RESPONSE_CACHING=true
CACHE_TTL_MENU=3600              # Menu responses: 1 hour
CACHE_TTL_RESTAURANT_INFO=86400  # Restaurant info: 24 hours
CACHE_TTL_DEFAULT=1800           # Default: 30 minutes

# -----------------------------------------------------------------------------
# MongoDB Configuration (Analytics & Logging)
# -----------------------------------------------------------------------------
MONGODB_CONNECTION_STRING=mongodb://localhost:27017
MONGODB_DATABASE_NAME=restaurant_ai_analytics

# -----------------------------------------------------------------------------
# OpenAI Configuration (REQUIRED)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here

# Purpose-Specific Models
INTENT_CLASSIFICATION_MODEL=gpt-4o
AGENT_MODEL=gpt-4o-mini
ENTITY_EXTRACTION_MODEL=gpt-4o-mini
OPENAI_MODEL_EMBEDDINGS=text-embedding-ada-002

# OpenAI Request Settings
OPENAI_TIMEOUT=30
OPENAI_TEMPERATURE_DEFAULT=0.3

# -----------------------------------------------------------------------------
# Multi-Account LLM Load Balancing (20 Accounts for High Throughput)
# -----------------------------------------------------------------------------
# Round-robin load balancing across multiple OpenAI accounts
# Each account has: API_KEY, RPM limits (requests/min), TPM limits (tokens/min)
# Buffer percent determines when to switch accounts (80 = switch at 80% usage)

# Account 1
ACCOUNT_1_API_KEY=sk-your-account-1-key-here
ACCOUNT_1_GPT4O_RPM_LIMIT=500
ACCOUNT_1_GPT4O_TPM_LIMIT=30000
ACCOUNT_1_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_1_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_1_BUFFER_PERCENT=80

# Account 2
ACCOUNT_2_API_KEY=sk-your-account-2-key-here
ACCOUNT_2_GPT4O_RPM_LIMIT=500
ACCOUNT_2_GPT4O_TPM_LIMIT=30000
ACCOUNT_2_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_2_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_2_BUFFER_PERCENT=80

# Account 3
ACCOUNT_3_API_KEY=sk-your-account-3-key-here
ACCOUNT_3_GPT4O_RPM_LIMIT=500
ACCOUNT_3_GPT4O_TPM_LIMIT=30000
ACCOUNT_3_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_3_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_3_BUFFER_PERCENT=80

# Account 4
ACCOUNT_4_API_KEY=sk-your-account-4-key-here
ACCOUNT_4_GPT4O_RPM_LIMIT=500
ACCOUNT_4_GPT4O_TPM_LIMIT=30000
ACCOUNT_4_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_4_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_4_BUFFER_PERCENT=80

# Account 5
ACCOUNT_5_API_KEY=sk-your-account-5-key-here
ACCOUNT_5_GPT4O_RPM_LIMIT=500
ACCOUNT_5_GPT4O_TPM_LIMIT=30000
ACCOUNT_5_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_5_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_5_BUFFER_PERCENT=80

# Account 6
ACCOUNT_6_API_KEY=sk-your-account-6-key-here
ACCOUNT_6_GPT4O_RPM_LIMIT=500
ACCOUNT_6_GPT4O_TPM_LIMIT=30000
ACCOUNT_6_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_6_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_6_BUFFER_PERCENT=80

# Account 7
ACCOUNT_7_API_KEY=sk-your-account-7-key-here
ACCOUNT_7_GPT4O_RPM_LIMIT=500
ACCOUNT_7_GPT4O_TPM_LIMIT=30000
ACCOUNT_7_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_7_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_7_BUFFER_PERCENT=80

# Account 8
ACCOUNT_8_API_KEY=sk-your-account-8-key-here
ACCOUNT_8_GPT4O_RPM_LIMIT=500
ACCOUNT_8_GPT4O_TPM_LIMIT=30000
ACCOUNT_8_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_8_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_8_BUFFER_PERCENT=80

# Account 9
ACCOUNT_9_API_KEY=sk-your-account-9-key-here
ACCOUNT_9_GPT4O_RPM_LIMIT=500
ACCOUNT_9_GPT4O_TPM_LIMIT=30000
ACCOUNT_9_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_9_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_9_BUFFER_PERCENT=80

# Account 10
ACCOUNT_10_API_KEY=sk-your-account-10-key-here
ACCOUNT_10_GPT4O_RPM_LIMIT=500
ACCOUNT_10_GPT4O_TPM_LIMIT=30000
ACCOUNT_10_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_10_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_10_BUFFER_PERCENT=80

# Account 11
ACCOUNT_11_API_KEY=sk-your-account-11-key-here
ACCOUNT_11_GPT4O_RPM_LIMIT=500
ACCOUNT_11_GPT4O_TPM_LIMIT=30000
ACCOUNT_11_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_11_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_11_BUFFER_PERCENT=80

# Account 12
ACCOUNT_12_API_KEY=sk-your-account-12-key-here
ACCOUNT_12_GPT4O_RPM_LIMIT=500
ACCOUNT_12_GPT4O_TPM_LIMIT=30000
ACCOUNT_12_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_12_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_12_BUFFER_PERCENT=80

# Account 13
ACCOUNT_13_API_KEY=sk-your-account-13-key-here
ACCOUNT_13_GPT4O_RPM_LIMIT=500
ACCOUNT_13_GPT4O_TPM_LIMIT=30000
ACCOUNT_13_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_13_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_13_BUFFER_PERCENT=80

# Account 14
ACCOUNT_14_API_KEY=sk-your-account-14-key-here
ACCOUNT_14_GPT4O_RPM_LIMIT=500
ACCOUNT_14_GPT4O_TPM_LIMIT=30000
ACCOUNT_14_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_14_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_14_BUFFER_PERCENT=80

# Account 15
ACCOUNT_15_API_KEY=sk-your-account-15-key-here
ACCOUNT_15_GPT4O_RPM_LIMIT=500
ACCOUNT_15_GPT4O_TPM_LIMIT=30000
ACCOUNT_15_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_15_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_15_BUFFER_PERCENT=80

# Account 16
ACCOUNT_16_API_KEY=sk-your-account-16-key-here
ACCOUNT_16_GPT4O_RPM_LIMIT=500
ACCOUNT_16_GPT4O_TPM_LIMIT=30000
ACCOUNT_16_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_16_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_16_BUFFER_PERCENT=80

# Account 17
ACCOUNT_17_API_KEY=sk-your-account-17-key-here
ACCOUNT_17_GPT4O_RPM_LIMIT=500
ACCOUNT_17_GPT4O_TPM_LIMIT=30000
ACCOUNT_17_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_17_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_17_BUFFER_PERCENT=80

# Account 18
ACCOUNT_18_API_KEY=sk-your-account-18-key-here
ACCOUNT_18_GPT4O_RPM_LIMIT=500
ACCOUNT_18_GPT4O_TPM_LIMIT=30000
ACCOUNT_18_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_18_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_18_BUFFER_PERCENT=80

# Account 19
ACCOUNT_19_API_KEY=sk-your-account-19-key-here
ACCOUNT_19_GPT4O_RPM_LIMIT=500
ACCOUNT_19_GPT4O_TPM_LIMIT=30000
ACCOUNT_19_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_19_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_19_BUFFER_PERCENT=80

# Account 20
ACCOUNT_20_API_KEY=sk-your-account-20-key-here
ACCOUNT_20_GPT4O_RPM_LIMIT=500
ACCOUNT_20_GPT4O_TPM_LIMIT=30000
ACCOUNT_20_GPT4O_MINI_RPM_LIMIT=500
ACCOUNT_20_GPT4O_MINI_TPM_LIMIT=200000
ACCOUNT_20_BUFFER_PERCENT=80

# -----------------------------------------------------------------------------
# FastAPI Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
AUTH_REQUIRED=true
TEST_OTP_ENABLED=true
TEST_OTP_CODE=123456

# -----------------------------------------------------------------------------
# Payment Gateway (Razorpay)
# -----------------------------------------------------------------------------
RAZORPAY_KEY_ID=your_razorpay_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_key_secret_here
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here
PAYMENT_CURRENCY=INR

# -----------------------------------------------------------------------------
# SMS (Twilio)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# WhatsApp Business API
# -----------------------------------------------------------------------------
WHATSAPP_API_TOKEN=your_whatsapp_api_token_here
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id_here
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id_here

# -----------------------------------------------------------------------------
# Web Search
# -----------------------------------------------------------------------------
SERPER_API_KEY=your_serper_api_key_here

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
ALLOWED_HEADERS=*

# -----------------------------------------------------------------------------
# Agent Configuration
# -----------------------------------------------------------------------------
USE_CREWAI_AGENT=true
ENABLE_STICKY_ROUTING=true
TIMEZONE=Asia/Kolkata
WAITER_NAMES=Nesamani,Priya,Arjun,Meera,Vikram

# -----------------------------------------------------------------------------
# Voice Chat Configuration
# -----------------------------------------------------------------------------
# Dedicated API key for voice (STT/TTS) - optional, falls back to main key
OPENAI_VOICE_API_KEY=sk-your-voice-api-key-here

# Voice Activity Detection (VAD) Engine Selection
# Options:
#   silero  - Best multilingual support (6000+ languages) - recommended for Hindi/Tamil
#   ten     - Lower latency, better accuracy on short pauses
#   webrtc  - Lightweight, minimal resource usage
VAD_ENGINE=silero

# VAD Sensitivity Settings (tune these if VAD cuts off too early or too late)
VAD_SPEECH_THRESHOLD=0.6    # Probability above which speech is detected (0.0-1.0)
VAD_SILENCE_THRESHOLD=0.3   # Probability below which silence is detected (0.0-1.0)
VAD_SILENCE_FRAMES=60       # Consecutive silent frames (~2 seconds) before ending speech
