"""initial schema for new a24 database

Revision ID: 0d4dc41303eb
Revises: 
Create Date: 2025-11-27 10:38:54.834900

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '0d4dc41303eb'
down_revision: Union[str, Sequence[str], None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column('account_lock', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_until',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_failed_attempts',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_unlocked_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_unlocked_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('account_lock', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_account_lock_account_lock_id'), 'account_lock', ['account_lock_id'], unique=False)
    op.create_index(op.f('ix_account_lock_user_id'), 'account_lock', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_account_lock_user_id'), 'account_lock', type_='foreignkey')
    op.alter_column('allergens', 'allergen_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('allergens', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('allergens', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('allergens', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_allergens_allergen_id'), 'allergens', ['allergen_id'], unique=False)
    op.alter_column('branch_contact_table', 'branch_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_branch_contact_table_branch_contact_id'), 'branch_contact_table', ['branch_contact_id'], unique=False)
    op.create_index(op.f('ix_branch_contact_table_branch_id'), 'branch_contact_table', ['branch_id'], unique=False)
    op.drop_constraint(op.f('fk_branch_contact_table_branch_id'), 'branch_contact_table', type_='foreignkey')
    op.alter_column('branch_info_table', 'chain_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_website_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_logo_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_personalized_greeting',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_branch_info_table_branch_id'), 'branch_info_table', ['branch_id'], unique=False)
    op.create_index(op.f('ix_branch_info_table_chain_id'), 'branch_info_table', ['chain_id'], unique=False)
    op.drop_constraint(op.f('fk_branch_info_table_chain_id'), 'branch_info_table', type_='foreignkey')
    op.alter_column('branch_location_table', 'branch_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'address_line',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'landmark',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'pincode_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'latitude',
               existing_type=sa.NUMERIC(precision=10, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'longitude',
               existing_type=sa.NUMERIC(precision=11, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_branch_location_table_branch_id'), 'branch_location_table', ['branch_id'], unique=False)
    op.create_index(op.f('ix_branch_location_table_branch_location_id'), 'branch_location_table', ['branch_location_id'], unique=False)
    op.create_index(op.f('ix_branch_location_table_pincode_id'), 'branch_location_table', ['pincode_id'], unique=False)
    op.drop_constraint(op.f('fk_branch_location_table_pincode_id'), 'branch_location_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_branch_location_table_branch_id'), 'branch_location_table', type_='foreignkey')
    op.alter_column('branch_timing_policy', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'opening_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'closing_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'food_ordering_start_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'food_ordering_closing_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'table_booking_open_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'table_booking_close_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_branch_timing_policy_branch_timing_id'), 'branch_timing_policy', ['branch_timing_id'], unique=False)
    op.create_index(op.f('ix_branch_timing_policy_restaurant_id'), 'branch_timing_policy', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_branch_timing_policy_restaurant_id'), 'branch_timing_policy', type_='foreignkey')
    op.alter_column('chain_contact_table', 'chain_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'contact_label',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_chain_contact_table_chain_contact_id'), 'chain_contact_table', ['chain_contact_id'], unique=False)
    op.create_index(op.f('ix_chain_contact_table_chain_id'), 'chain_contact_table', ['chain_id'], unique=False)
    op.drop_constraint(op.f('fk_chain_contact_table_chain_id'), 'chain_contact_table', type_='foreignkey')
    op.alter_column('chain_info_table', 'chain_website_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'chain_logo_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_chain_info_table_chain_id'), 'chain_info_table', ['chain_id'], unique=False)
    op.alter_column('chain_location_table', 'chain_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'address_line',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'landmark',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'pincode_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'latitude',
               existing_type=sa.NUMERIC(precision=10, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'longitude',
               existing_type=sa.NUMERIC(precision=11, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_chain_location_table_chain_id'), 'chain_location_table', ['chain_id'], unique=False)
    op.create_index(op.f('ix_chain_location_table_chain_location_id'), 'chain_location_table', ['chain_location_id'], unique=False)
    op.create_index(op.f('ix_chain_location_table_pincode_id'), 'chain_location_table', ['pincode_id'], unique=False)
    op.drop_constraint(op.f('fk_chain_location_table_pincode_id'), 'chain_location_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_chain_location_table_chain_id'), 'chain_location_table', type_='foreignkey')
    op.alter_column('city_table', 'state_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('city_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('city_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('city_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_city_table_city_id'), 'city_table', ['city_id'], unique=False)
    op.create_index(op.f('ix_city_table_state_id'), 'city_table', ['state_id'], unique=False)
    op.drop_constraint(op.f('fk_city_table_state_id'), 'city_table', type_='foreignkey')
    op.alter_column('combo_item', 'combo_item_component_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_combo_item_combo_item_component_id'), 'combo_item', ['combo_item_component_id'], unique=False)
    op.create_index(op.f('ix_combo_item_combo_item_id'), 'combo_item', ['combo_item_id'], unique=False)
    op.create_index(op.f('ix_combo_item_restaurant_id'), 'combo_item', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_combo_item_combo_item_component_id'), 'combo_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_combo_item_restaurant_id'), 'combo_item', type_='foreignkey')
    op.alter_column('combo_item_components', 'combo_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_combo_item_components_combo_item_component_id'), 'combo_item_components', ['combo_item_component_id'], unique=False)
    op.create_index(op.f('ix_combo_item_components_combo_item_id'), 'combo_item_components', ['combo_item_id'], unique=False)
    op.create_index(op.f('ix_combo_item_components_menu_item_id'), 'combo_item_components', ['menu_item_id'], unique=False)
    op.drop_constraint(op.f('fk_combo_item_components_menu_item_id'), 'combo_item_components', type_='foreignkey')
    op.drop_constraint(op.f('fk_combo_item_components_combo_item_id'), 'combo_item_components', type_='foreignkey')
    op.alter_column('country_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('country_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('country_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('country_table_country_name_key'), table_name='country_table')
    op.create_index(op.f('ix_country_table_country_id'), 'country_table', ['country_id'], unique=False)
    op.alter_column('cuisines', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('cuisines', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('cuisines', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_cuisines_cuisine_id'), 'cuisines', ['cuisine_id'], unique=False)
    op.alter_column('customer_activity_log', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'details',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_activity_log_customer_id'), 'customer_activity_log', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_activity_log_log_id'), 'customer_activity_log', ['log_id'], unique=False)
    op.drop_constraint(op.f('customer_activity_log_customer_id_fkey'), 'customer_activity_log', type_='foreignkey')
    op.alter_column('customer_address_table', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_street_address_1',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_street_address_2',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_city',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_state_province',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_postal_code',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_country',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_latitude',
               existing_type=sa.NUMERIC(precision=10, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_longitude',
               existing_type=sa.NUMERIC(precision=11, scale=8),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_delivery_instructions',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_address_table_customer_address_id'), 'customer_address_table', ['customer_address_id'], unique=False)
    op.create_index(op.f('ix_customer_address_table_customer_id'), 'customer_address_table', ['customer_id'], unique=False)
    op.drop_constraint(op.f('customer_address_table_customer_id_fkey'), 'customer_address_table', type_='foreignkey')
    op.alter_column('customer_allergens', 'customer_allergen_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_allergens_allergen_id'), 'customer_allergens', ['allergen_id'], unique=False)
    op.create_index(op.f('ix_customer_allergens_customer_id'), 'customer_allergens', ['customer_id'], unique=False)
    op.drop_constraint(op.f('customer_allergens_allergen_id_fkey'), 'customer_allergens', type_='foreignkey')
    op.drop_constraint(op.f('fk_customer_allergens_customer_id'), 'customer_allergens', type_='foreignkey')
    op.alter_column('customer_authentication', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'password_hash',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'last_login',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'locked_until',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_authentication_auth_id'), 'customer_authentication', ['auth_id'], unique=False)
    op.create_index(op.f('ix_customer_authentication_customer_id'), 'customer_authentication', ['customer_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_authentication_customer_id'), 'customer_authentication', type_='foreignkey')
    op.alter_column('customer_consent', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'consent_withdrawn_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_consent_consent_id'), 'customer_consent', ['consent_id'], unique=False)
    op.create_index(op.f('ix_customer_consent_customer_id'), 'customer_consent', ['customer_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_consent_customer_id'), 'customer_consent', type_='foreignkey')
    op.alter_column('customer_contact_table', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_contact_table_contact_id'), 'customer_contact_table', ['contact_id'], unique=False)
    op.create_index(op.f('ix_customer_contact_table_customer_id'), 'customer_contact_table', ['customer_id'], unique=False)
    op.drop_constraint(op.f('customer_contact_table_customer_id_fkey'), 'customer_contact_table', type_='foreignkey')
    op.alter_column('customer_devices', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'first_seen',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'last_seen',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_devices_customer_id'), 'customer_devices', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_devices_device_id'), 'customer_devices', ['device_id'], unique=False)
    op.drop_constraint(op.f('customer_devices_customer_id_fkey'), 'customer_devices', type_='foreignkey')
    op.alter_column('customer_dietary_restrictions', 'customer_dietary_restriction_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_dietary_restrictions_customer_id'), 'customer_dietary_restrictions', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_dietary_restrictions_dietary_restriction_id'), 'customer_dietary_restrictions', ['dietary_restriction_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_dietary_restrictions_dietary_restriction_id'), 'customer_dietary_restrictions', type_='foreignkey')
    op.drop_constraint(op.f('fk_customer_dietary_restrictions_customer_id'), 'customer_dietary_restrictions', type_='foreignkey')
    op.alter_column('customer_favorite_items', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_favorite_items_customer_id'), 'customer_favorite_items', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_favorite_items_favorite_id'), 'customer_favorite_items', ['favorite_id'], unique=False)
    op.create_index(op.f('ix_customer_favorite_items_menu_item_id'), 'customer_favorite_items', ['menu_item_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_favorite_items_menu_item_id'), 'customer_favorite_items', type_='foreignkey')
    op.drop_constraint(op.f('customer_favorite_items_customer_id_fkey'), 'customer_favorite_items', type_='foreignkey')
    op.alter_column('customer_gender', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_gender', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_gender', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_gender_customer_gender_id'), 'customer_gender', ['customer_gender_id'], unique=False)
    op.alter_column('customer_preferences', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_preferences_customer_id'), 'customer_preferences', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_preferences_customer_preference_id'), 'customer_preferences', ['customer_preference_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_preferences_customer_id'), 'customer_preferences', type_='foreignkey')
    op.alter_column('customer_profile_table', 'customer_date_of_birth',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'customer_gender_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'language_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_profile_table_customer_gender_id'), 'customer_profile_table', ['customer_gender_id'], unique=False)
    op.create_index(op.f('ix_customer_profile_table_customer_id'), 'customer_profile_table', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_profile_table_language_id'), 'customer_profile_table', ['language_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_profile_table_customer_gender_id'), 'customer_profile_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_customer_profile_table_language_id'), 'customer_profile_table', type_='foreignkey')
    op.alter_column('customer_search_queries', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'conversation_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'search_query',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_search_queries_conversation_id'), 'customer_search_queries', ['conversation_id'], unique=False)
    op.create_index(op.f('ix_customer_search_queries_customer_id'), 'customer_search_queries', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_search_queries_query_id'), 'customer_search_queries', ['query_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_search_queries_customer_id'), 'customer_search_queries', type_='foreignkey')
    op.alter_column('customer_sessions', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'session_token',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_sessions_customer_id'), 'customer_sessions', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_sessions_session_id'), 'customer_sessions', ['session_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_sessions_customer_id'), 'customer_sessions', type_='foreignkey')
    op.alter_column('customer_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_table_customer_id'), 'customer_table', ['customer_id'], unique=False)
    op.alter_column('customer_tag_mapping', 'tagged_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_tag_mapping_customer_id'), 'customer_tag_mapping', ['customer_id'], unique=False)
    op.create_index(op.f('ix_customer_tag_mapping_tag_id'), 'customer_tag_mapping', ['tag_id'], unique=False)
    op.drop_constraint(op.f('fk_customer_tag_mapping_customer_id'), 'customer_tag_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_customer_tag_mapping_tag_id'), 'customer_tag_mapping', type_='foreignkey')
    op.alter_column('customer_tags', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_tags', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('customer_tags', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_customer_tags_tag_id'), 'customer_tags', ['tag_id'], unique=False)
    op.alter_column('department', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'department_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'parent_department_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'department_manager_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('department', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_department_department_id'), 'department', ['department_id'], unique=False)
    op.create_index(op.f('ix_department_department_manager_id'), 'department', ['department_manager_id'], unique=False)
    op.create_index(op.f('ix_department_parent_department_id'), 'department', ['parent_department_id'], unique=False)
    op.create_index(op.f('ix_department_restaurant_id'), 'department', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('department_department_manager_id_fkey'), 'department', type_='foreignkey')
    op.drop_constraint(op.f('fk_department_restaurant_id'), 'department', type_='foreignkey')
    op.drop_constraint(op.f('department_parent_department_id_fkey'), 'department', type_='foreignkey')
    op.alter_column('dietary_restrictions', 'dietary_restriction_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_dietary_restrictions_dietary_restriction_id'), 'dietary_restrictions', ['dietary_restriction_id'], unique=False)
    op.alter_column('dietary_types', 'dietary_type_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_types', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_types', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('dietary_types', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_dietary_types_dietary_type_id'), 'dietary_types', ['dietary_type_id'], unique=False)
    op.alter_column('discount', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_value',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_applicable_on',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_days',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_starts_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_time_from',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_time_to',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_min_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_max_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_max_limit',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_discount_discount_id'), 'discount', ['discount_id'], unique=False)
    op.create_index(op.f('ix_discount_restaurant_id'), 'discount', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_discount_restaurant_id'), 'discount', type_='foreignkey')
    op.alter_column('discount_schedule', 'discount_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_day_of_week',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_start_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_end_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_discount_schedule_discount_id'), 'discount_schedule', ['discount_id'], unique=False)
    op.create_index(op.f('ix_discount_schedule_discount_schedule_id'), 'discount_schedule', ['discount_schedule_id'], unique=False)
    op.drop_constraint(op.f('fk_discount_schedule_discount_id'), 'discount_schedule', type_='foreignkey')
    op.alter_column('discount_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('discount_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_discount_type_discount_type_id'), 'discount_type', ['discount_type_id'], unique=False)
    op.alter_column('email_verification', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('email_verification', 'email_verification_expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('email_verification', 'email_verification_verified_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('email_verification', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('email_verification', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('email_verification', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_email_verification_email_verification_id'), 'email_verification', ['email_verification_id'], unique=False)
    op.create_index(op.f('ix_email_verification_user_id'), 'email_verification', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_email_verification_user_id'), 'email_verification', type_='foreignkey')
    op.alter_column('entity_slot_config', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_capacity',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_duration',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_frequency',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_entity_slot_config_restaurant_id'), 'entity_slot_config', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_entity_slot_config_slot_config_id'), 'entity_slot_config', ['slot_config_id'], unique=False)
    op.drop_constraint(op.f('fk_entity_slot_config_restaurant_id'), 'entity_slot_config', type_='foreignkey')
    op.alter_column('feedback', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'booking_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'product_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'service_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'rating',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'feedback_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'sentiment',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'priority_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'status_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'assigned_to',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'assigned_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'platform_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'page_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'resolved_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_booking_id'), 'feedback', ['booking_id'], unique=False)
    op.create_index(op.f('ix_feedback_category_id'), 'feedback', ['category_id'], unique=False)
    op.create_index(op.f('ix_feedback_customer_id'), 'feedback', ['customer_id'], unique=False)
    op.create_index(op.f('ix_feedback_feedback_id'), 'feedback', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_feedback_type_id'), 'feedback', ['feedback_type_id'], unique=False)
    op.create_index(op.f('ix_feedback_order_id'), 'feedback', ['order_id'], unique=False)
    op.create_index(op.f('ix_feedback_platform_id'), 'feedback', ['platform_id'], unique=False)
    op.create_index(op.f('ix_feedback_priority_id'), 'feedback', ['priority_id'], unique=False)
    op.create_index(op.f('ix_feedback_product_id'), 'feedback', ['product_id'], unique=False)
    op.create_index(op.f('ix_feedback_service_id'), 'feedback', ['service_id'], unique=False)
    op.create_index(op.f('ix_feedback_status_id'), 'feedback', ['status_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_category_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_priority_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_order_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_customer_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_platform_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_status_id'), 'feedback', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_feedback_type_id'), 'feedback', type_='foreignkey')
    op.alter_column('feedback_attachments', 'feedback_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'file_size',
               existing_type=sa.BIGINT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'uploaded_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_attachments_attachment_id'), 'feedback_attachments', ['attachment_id'], unique=False)
    op.create_index(op.f('ix_feedback_attachments_feedback_id'), 'feedback_attachments', ['feedback_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_attachments_feedback_id'), 'feedback_attachments', type_='foreignkey')
    op.alter_column('feedback_categories', 'description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'icon',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'parent_category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('feedback_categories_category_name_key'), table_name='feedback_categories')
    op.create_index(op.f('ix_feedback_categories_category_id'), 'feedback_categories', ['category_id'], unique=False)
    op.create_index(op.f('ix_feedback_categories_parent_category_id'), 'feedback_categories', ['parent_category_id'], unique=False)
    op.drop_constraint(op.f('feedback_categories_parent_category_id_fkey'), 'feedback_categories', type_='foreignkey')
    op.alter_column('feedback_notifications', 'feedback_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'subject',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'opened_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'clicked_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_notifications_feedback_id'), 'feedback_notifications', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_notifications_notification_id'), 'feedback_notifications', ['notification_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_notifications_feedback_id'), 'feedback_notifications', type_='foreignkey')
    op.alter_column('feedback_platforms', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_platforms', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_platforms', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('platforms_platform_name_key'), table_name='feedback_platforms')
    op.create_index(op.f('ix_feedback_platforms_platform_id'), 'feedback_platforms', ['platform_id'], unique=False)
    op.alter_column('feedback_priorities', 'priority_level',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'response_sla_hours',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('priorities_priority_name_key'), table_name='feedback_priorities')
    op.create_index(op.f('ix_feedback_priorities_priority_id'), 'feedback_priorities', ['priority_id'], unique=False)
    op.alter_column('feedback_priority_history', 'feedback_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'old_priority_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'new_priority_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'changed_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'change_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_priority_history_feedback_id'), 'feedback_priority_history', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_priority_history_history_id'), 'feedback_priority_history', ['history_id'], unique=False)
    op.create_index(op.f('ix_feedback_priority_history_new_priority_id'), 'feedback_priority_history', ['new_priority_id'], unique=False)
    op.create_index(op.f('ix_feedback_priority_history_old_priority_id'), 'feedback_priority_history', ['old_priority_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_priority_history_feedback_id'), 'feedback_priority_history', type_='foreignkey')
    op.drop_constraint(op.f('feedback_priority_history_new_priority_id_fkey'), 'feedback_priority_history', type_='foreignkey')
    op.drop_constraint(op.f('feedback_priority_history_old_priority_id_fkey'), 'feedback_priority_history', type_='foreignkey')
    op.alter_column('feedback_responses', 'feedback_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'responded_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'edited_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_responses_feedback_id'), 'feedback_responses', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_responses_response_id'), 'feedback_responses', ['response_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_responses_feedback_id'), 'feedback_responses', type_='foreignkey')
    op.alter_column('feedback_status_history', 'feedback_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'old_status_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'new_status_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'changed_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'change_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_status_history_feedback_id'), 'feedback_status_history', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_status_history_history_id'), 'feedback_status_history', ['history_id'], unique=False)
    op.create_index(op.f('ix_feedback_status_history_new_status_id'), 'feedback_status_history', ['new_status_id'], unique=False)
    op.create_index(op.f('ix_feedback_status_history_old_status_id'), 'feedback_status_history', ['old_status_id'], unique=False)
    op.drop_constraint(op.f('feedback_status_history_old_status_id_fkey'), 'feedback_status_history', type_='foreignkey')
    op.drop_constraint(op.f('feedback_status_history_new_status_id_fkey'), 'feedback_status_history', type_='foreignkey')
    op.drop_constraint(op.f('fk_feedback_status_history_feedback_id'), 'feedback_status_history', type_='foreignkey')
    op.alter_column('feedback_statuses', 'description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('statuses_status_name_key'), table_name='feedback_statuses')
    op.create_index(op.f('ix_feedback_statuses_status_id'), 'feedback_statuses', ['status_id'], unique=False)
    op.alter_column('feedback_tags', 'added_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_feedback_tags_feedback_id'), 'feedback_tags', ['feedback_id'], unique=False)
    op.create_index(op.f('ix_feedback_tags_tag_id'), 'feedback_tags', ['tag_id'], unique=False)
    op.drop_constraint(op.f('fk_feedback_tags_tag_id'), 'feedback_tags', type_='foreignkey')
    op.alter_column('feedback_types', 'description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'icon',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('feedback_types_type_name_key'), table_name='feedback_types')
    op.create_index(op.f('ix_feedback_types_type_id'), 'feedback_types', ['type_id'], unique=False)
    op.alter_column('integration_config_table', 'chain_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'branch_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'provider_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'api_key',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_integration_config_table_branch_id'), 'integration_config_table', ['branch_id'], unique=False)
    op.create_index(op.f('ix_integration_config_table_chain_id'), 'integration_config_table', ['chain_id'], unique=False)
    op.create_index(op.f('ix_integration_config_table_integration_config_id'), 'integration_config_table', ['integration_config_id'], unique=False)
    op.create_index(op.f('ix_integration_config_table_provider_id'), 'integration_config_table', ['provider_id'], unique=False)
    op.drop_constraint(op.f('fk_integration_config_table_branch_id'), 'integration_config_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_integration_config_table_chain_id'), 'integration_config_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_integration_config_table_provider_id'), 'integration_config_table', type_='foreignkey')
    op.alter_column('integration_credentials_table', 'integration_config_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'credential_value',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_integration_credentials_table_credential_id'), 'integration_credentials_table', ['credential_id'], unique=False)
    op.create_index(op.f('ix_integration_credentials_table_integration_config_id'), 'integration_credentials_table', ['integration_config_id'], unique=False)
    op.drop_constraint(op.f('fk_integration_credentials_table_integration_config_id'), 'integration_credentials_table', type_='foreignkey')
    op.alter_column('integration_metadata_table', 'integration_config_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'metadata_value',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_integration_metadata_table_integration_config_id'), 'integration_metadata_table', ['integration_config_id'], unique=False)
    op.create_index(op.f('ix_integration_metadata_table_metadata_id'), 'integration_metadata_table', ['metadata_id'], unique=False)
    op.drop_constraint(op.f('fk_integration_metadata_table_integration_config_id'), 'integration_metadata_table', type_='foreignkey')
    op.alter_column('integration_provider_table', 'provider_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'provider_base_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_integration_provider_table_provider_id'), 'integration_provider_table', ['provider_id'], unique=False)
    op.alter_column('languages', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('languages', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('languages', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_languages_language_id'), 'languages', ['language_id'], unique=False)
    op.alter_column('login_attempt', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'login_attempt_failure_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_login_attempt_login_attempt_id'), 'login_attempt', ['login_attempt_id'], unique=False)
    op.create_index(op.f('ix_login_attempt_user_id'), 'login_attempt', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_login_attempt_user_id'), 'login_attempt', type_='foreignkey')
    op.alter_column('loyalty_transaction', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_loyalty_transaction_customer_id'), 'loyalty_transaction', ['customer_id'], unique=False)
    op.create_index(op.f('ix_loyalty_transaction_loyalty_txn_id'), 'loyalty_transaction', ['loyalty_txn_id'], unique=False)
    op.create_index(op.f('ix_loyalty_transaction_order_id'), 'loyalty_transaction', ['order_id'], unique=False)
    op.create_index(op.f('ix_loyalty_transaction_payment_transaction_id'), 'loyalty_transaction', ['payment_transaction_id'], unique=False)
    op.drop_constraint(op.f('fk_loyalty_transaction_payment_transaction_id'), 'loyalty_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_loyalty_transaction_order_id'), 'loyalty_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_loyalty_transaction_customer_id'), 'loyalty_transaction', type_='foreignkey')
    op.alter_column('meal_slot_timing', 'slot_config_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'meal_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'opening_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'closing_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_meal_slot_timing_meal_slot_timing_id'), 'meal_slot_timing', ['meal_slot_timing_id'], unique=False)
    op.create_index(op.f('ix_meal_slot_timing_meal_type_id'), 'meal_slot_timing', ['meal_type_id'], unique=False)
    op.create_index(op.f('ix_meal_slot_timing_slot_config_id'), 'meal_slot_timing', ['slot_config_id'], unique=False)
    op.drop_constraint(op.f('fk_meal_slot_timing_meal_type_id'), 'meal_slot_timing', type_='foreignkey')
    op.drop_constraint(op.f('fk_meal_slot_timing_slot_config_id'), 'meal_slot_timing', type_='foreignkey')
    op.alter_column('meal_type', 'display_order',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('meal_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_meal_type_meal_type_id'), 'meal_type', ['meal_type_id'], unique=False)
    op.alter_column('menu_categories', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_section_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_timings',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_image_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_parent_category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_categories_menu_category_id'), 'menu_categories', ['menu_category_id'], unique=False)
    op.create_index(op.f('ix_menu_categories_menu_parent_category_id'), 'menu_categories', ['menu_parent_category_id'], unique=False)
    op.create_index(op.f('ix_menu_categories_menu_section_id'), 'menu_categories', ['menu_section_id'], unique=False)
    op.create_index(op.f('ix_menu_categories_restaurant_id'), 'menu_categories', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_categories_menu_section_id'), 'menu_categories', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_categories_restaurant_id'), 'menu_categories', type_='foreignkey')
    op.alter_column('menu_item', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_sub_category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_minimum_preparation_time',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_cgst',
               existing_type=sa.NUMERIC(precision=8, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_sgst',
               existing_type=sa.NUMERIC(precision=8, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_timings',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_attribute_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_addon_based_on',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_markup_price',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_menu_item_attribute_id'), 'menu_item', ['menu_item_attribute_id'], unique=False)
    op.create_index(op.f('ix_menu_item_menu_item_id'), 'menu_item', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_menu_item_tax_id'), 'menu_item', ['menu_item_tax_id'], unique=False)
    op.create_index(op.f('ix_menu_item_menu_sub_category_id'), 'menu_item', ['menu_sub_category_id'], unique=False)
    op.create_index(op.f('ix_menu_item_restaurant_id'), 'menu_item', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_restaurant_id'), 'menu_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_menu_sub_category_id'), 'menu_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_menu_item_attribute_id'), 'menu_item', type_='foreignkey')
    op.alter_column('menu_item_addon_group', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_selection_min',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_selection_max',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_addon_group_menu_item_addon_group_id'), 'menu_item_addon_group', ['menu_item_addon_group_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_group_restaurant_id'), 'menu_item_addon_group', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_addon_group_restaurant_id'), 'menu_item_addon_group', type_='foreignkey')
    op.alter_column('menu_item_addon_item', 'menu_item_addon_group_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_price',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_attribute_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_addon_item_menu_item_addon_group_id'), 'menu_item_addon_item', ['menu_item_addon_group_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_item_menu_item_addon_id'), 'menu_item_addon_item', ['menu_item_addon_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_item_menu_item_addon_item_attribute_id'), 'menu_item_addon_item', ['menu_item_addon_item_attribute_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_item_restaurant_id'), 'menu_item_addon_item', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_addon_item_restaurant_id'), 'menu_item_addon_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_addon_item_menu_item_addon_group_id'), 'menu_item_addon_item', type_='foreignkey')
    op.alter_column('menu_item_addon_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'menu_item_variation_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'menu_item_addon_group_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_addon_mapping_menu_item_addon_group_id'), 'menu_item_addon_mapping', ['menu_item_addon_group_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_mapping_menu_item_addon_mapping_id'), 'menu_item_addon_mapping', ['menu_item_addon_mapping_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_mapping_menu_item_id'), 'menu_item_addon_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_mapping_menu_item_variation_id'), 'menu_item_addon_mapping', ['menu_item_variation_id'], unique=False)
    op.create_index(op.f('ix_menu_item_addon_mapping_restaurant_id'), 'menu_item_addon_mapping', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_addon_mapping_menu_item_variation_id'), 'menu_item_addon_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_addon_mapping_menu_item_id'), 'menu_item_addon_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_addon_mapping_restaurant_id'), 'menu_item_addon_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_addon_mapping_menu_item_addon_group_id'), 'menu_item_addon_mapping', type_='foreignkey')
    op.alter_column('menu_item_attribute', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_attribute', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_attribute', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_attribute_menu_item_attribute_id'), 'menu_item_attribute', ['menu_item_attribute_id'], unique=False)
    op.alter_column('menu_item_availability_schedule', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'time_from',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'time_to',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_availability_schedule_menu_item_id'), 'menu_item_availability_schedule', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_availability_schedule_schedule_id'), 'menu_item_availability_schedule', ['schedule_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_availability_schedule_menu_item_id'), 'menu_item_availability_schedule', type_='foreignkey')
    op.alter_column('menu_item_cuisine_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'cuisine_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_cuisine_mapping_cuisine_id'), 'menu_item_cuisine_mapping', ['cuisine_id'], unique=False)
    op.create_index(op.f('ix_menu_item_cuisine_mapping_menu_item_cuisine_mapping_id'), 'menu_item_cuisine_mapping', ['menu_item_cuisine_mapping_id'], unique=False)
    op.create_index(op.f('ix_menu_item_cuisine_mapping_menu_item_id'), 'menu_item_cuisine_mapping', ['menu_item_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_cuisine_mapping_menu_item_id'), 'menu_item_cuisine_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_cuisine_mapping_cuisine_id'), 'menu_item_cuisine_mapping', type_='foreignkey')
    op.alter_column('menu_item_discount_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'discount_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_discount_mapping_discount_id'), 'menu_item_discount_mapping', ['discount_id'], unique=False)
    op.create_index(op.f('ix_menu_item_discount_mapping_menu_item_discount_mapping_id'), 'menu_item_discount_mapping', ['menu_item_discount_mapping_id'], unique=False)
    op.create_index(op.f('ix_menu_item_discount_mapping_menu_item_id'), 'menu_item_discount_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_discount_mapping_restaurant_id'), 'menu_item_discount_mapping', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_discount_mapping_menu_item_id'), 'menu_item_discount_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_discount_mapping_discount_id'), 'menu_item_discount_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_discount_mapping_restaurant_id'), 'menu_item_discount_mapping', type_='foreignkey')
    op.alter_column('menu_item_option', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'menu_item_option_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_option_menu_item_id'), 'menu_item_option', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_option_menu_item_option_id'), 'menu_item_option', ['menu_item_option_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_option_menu_item_id'), 'menu_item_option', type_='foreignkey')
    op.alter_column('menu_item_ordertype_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'menu_item_ordertype_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_ordertype_mapping_menu_item_id'), 'menu_item_ordertype_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_ordertype_mapping_menu_item_ordertype_id'), 'menu_item_ordertype_mapping', ['menu_item_ordertype_id'], unique=False)
    op.create_index(op.f('ix_menu_item_ordertype_mapping_menu_item_ordertype_mapping_id'), 'menu_item_ordertype_mapping', ['menu_item_ordertype_mapping_id'], unique=False)
    op.create_index(op.f('ix_menu_item_ordertype_mapping_restaurant_id'), 'menu_item_ordertype_mapping', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_ordertype_mapping_restaurant_id'), 'menu_item_ordertype_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_ordertype_mapping_menu_item_id'), 'menu_item_ordertype_mapping', type_='foreignkey')
    op.drop_constraint(op.f('menu_item_ordertype_mapping_menu_item_ordertype_id_fkey'), 'menu_item_ordertype_mapping', type_='foreignkey')
    op.alter_column('menu_item_tag', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_tag_menu_item_tag_id'), 'menu_item_tag', ['menu_item_tag_id'], unique=False)
    op.alter_column('menu_item_tag_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'menu_item_tag_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_tag_mapping_menu_item_id'), 'menu_item_tag_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_tag_mapping_menu_item_tag_id'), 'menu_item_tag_mapping', ['menu_item_tag_id'], unique=False)
    op.create_index(op.f('ix_menu_item_tag_mapping_menu_item_tag_mapping_id'), 'menu_item_tag_mapping', ['menu_item_tag_mapping_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_tag_mapping_menu_item_tag_id'), 'menu_item_tag_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_tag_mapping_menu_item_id'), 'menu_item_tag_mapping', type_='foreignkey')
    op.alter_column('menu_item_tax_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'tax_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'gst_liability',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_tax_mapping_menu_item_id'), 'menu_item_tax_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_tax_mapping_menu_item_tax_mapping_id'), 'menu_item_tax_mapping', ['menu_item_tax_mapping_id'], unique=False)
    op.create_index(op.f('ix_menu_item_tax_mapping_restaurant_id'), 'menu_item_tax_mapping', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_menu_item_tax_mapping_tax_id'), 'menu_item_tax_mapping', ['tax_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_tax_mapping_menu_item_id'), 'menu_item_tax_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_tax_mapping_restaurant_id'), 'menu_item_tax_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_tax_mapping_tax_id'), 'menu_item_tax_mapping', type_='foreignkey')
    op.alter_column('menu_item_variation', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'variation_group_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_price',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_markup_price',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_packaging_charges',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_variation_menu_item_id'), 'menu_item_variation', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_variation_menu_item_variation_id'), 'menu_item_variation', ['menu_item_variation_id'], unique=False)
    op.create_index(op.f('ix_menu_item_variation_restaurant_id'), 'menu_item_variation', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_menu_item_variation_variation_group_id'), 'menu_item_variation', ['variation_group_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_item_variation_restaurant_id'), 'menu_item_variation', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_variation_variation_group_id'), 'menu_item_variation', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_variation_menu_item_id'), 'menu_item_variation', type_='foreignkey')
    op.alter_column('menu_item_variation_mapping', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'menu_item_variation_group_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'menu_item_variation_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_item_variation_mapping_menu_item_id'), 'menu_item_variation_mapping', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_menu_item_variation_mapping_menu_item_variation_group_id'), 'menu_item_variation_mapping', ['menu_item_variation_group_id'], unique=False)
    op.create_index(op.f('ix_menu_item_variation_mapping_menu_item_variation_mapping_id'), 'menu_item_variation_mapping', ['menu_item_variation_mapping_id'], unique=False)
    op.drop_constraint(op.f('menu_item_variation_mapping_menu_item_variation_group_id_fkey'), 'menu_item_variation_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_item_variation_mapping_menu_item_id'), 'menu_item_variation_mapping', type_='foreignkey')
    op.alter_column('menu_sections', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_image_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_sections_menu_section_id'), 'menu_sections', ['menu_section_id'], unique=False)
    op.create_index(op.f('ix_menu_sections_restaurant_id'), 'menu_sections', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_sections_restaurant_id'), 'menu_sections', type_='foreignkey')
    op.alter_column('menu_sub_categories', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_timings',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_image_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_sub_categories_category_id'), 'menu_sub_categories', ['category_id'], unique=False)
    op.create_index(op.f('ix_menu_sub_categories_menu_sub_category_id'), 'menu_sub_categories', ['menu_sub_category_id'], unique=False)
    op.create_index(op.f('ix_menu_sub_categories_restaurant_id'), 'menu_sub_categories', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_sub_categories_category_id'), 'menu_sub_categories', type_='foreignkey')
    op.drop_constraint(op.f('fk_menu_sub_categories_restaurant_id'), 'menu_sub_categories', type_='foreignkey')
    op.alter_column('menu_sync_log', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_source',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_started_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_completed_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_items_synced',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_errors',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_sync_log_menu_sync_log_id'), 'menu_sync_log', ['menu_sync_log_id'], unique=False)
    op.create_index(op.f('ix_menu_sync_log_restaurant_id'), 'menu_sync_log', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_sync_log_restaurant_id'), 'menu_sync_log', type_='foreignkey')
    op.alter_column('menu_version_history', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_number',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_changed_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_change_summary',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_snapshot_data',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_menu_version_history_menu_version_id'), 'menu_version_history', ['menu_version_id'], unique=False)
    op.create_index(op.f('ix_menu_version_history_restaurant_id'), 'menu_version_history', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_menu_version_history_restaurant_id'), 'menu_version_history', type_='foreignkey')
    op.alter_column('order_audit', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'session_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'order_version',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'modified_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'modification_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_audit', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_audit_order_audit_id'), 'order_audit', ['order_audit_id'], unique=False)
    op.create_index(op.f('ix_order_audit_order_id'), 'order_audit', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_audit_session_id'), 'order_audit', ['session_id'], unique=False)
    op.drop_constraint(op.f('fk_order_audit_session_id'), 'order_audit', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_audit_order_id'), 'order_audit', type_='foreignkey')
    op.alter_column('order_charges', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_base_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_taxable_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_metadata_json',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_charges', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_charges_order_charges_id'), 'order_charges', ['order_charges_id'], unique=False)
    op.create_index(op.f('ix_order_charges_order_id'), 'order_charges', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_charges_order_item_id'), 'order_charges', ['order_item_id'], unique=False)
    op.drop_constraint(op.f('fk_order_charges_order_item_id'), 'order_charges', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_charges_order_id'), 'order_charges', type_='foreignkey')
    op.alter_column('order_customer_details', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_customer_details_customer_id'), 'order_customer_details', ['customer_id'], unique=False)
    op.create_index(op.f('ix_order_customer_details_order_customer_details_id'), 'order_customer_details', ['order_customer_details_id'], unique=False)
    op.create_index(op.f('ix_order_customer_details_order_id'), 'order_customer_details', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_customer_details_restaurant_id'), 'order_customer_details', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_order_customer_details_customer_id'), 'order_customer_details', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_customer_details_order_id'), 'order_customer_details', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_customer_details_restaurant_id'), 'order_customer_details', type_='foreignkey')
    op.alter_column('order_delivery_info', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_partner_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_slot',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_address_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_distance_km',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_estimated_time',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_actual_time',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_person_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_started_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_completed_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_tracking_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_proof_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_delivery_info_delivery_address_id'), 'order_delivery_info', ['delivery_address_id'], unique=False)
    op.create_index(op.f('ix_order_delivery_info_delivery_partner_id'), 'order_delivery_info', ['delivery_partner_id'], unique=False)
    op.create_index(op.f('ix_order_delivery_info_delivery_person_id'), 'order_delivery_info', ['delivery_person_id'], unique=False)
    op.create_index(op.f('ix_order_delivery_info_order_delivery_id'), 'order_delivery_info', ['order_delivery_id'], unique=False)
    op.create_index(op.f('ix_order_delivery_info_order_id'), 'order_delivery_info', ['order_id'], unique=False)
    op.drop_constraint(op.f('fk_order_delivery_info_delivery_address_id'), 'order_delivery_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_delivery_info_order_id'), 'order_delivery_info', type_='foreignkey')
    op.alter_column('order_dining_info', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'table_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'table_no',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'no_of_persons',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_dining_info_order_dining_id'), 'order_dining_info', ['order_dining_id'], unique=False)
    op.create_index(op.f('ix_order_dining_info_order_id'), 'order_dining_info', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_dining_info_table_id'), 'order_dining_info', ['table_id'], unique=False)
    op.drop_constraint(op.f('fk_order_dining_info_order_id'), 'order_dining_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_dining_info_table_id'), 'order_dining_info', type_='foreignkey')
    op.alter_column('order_discount', 'order_discount_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_discount_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_discount_percentage',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_discount', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_discount_order_discount_id'), 'order_discount', ['order_discount_id'], unique=False)
    op.create_index(op.f('ix_order_discount_order_discount_type_id'), 'order_discount', ['order_discount_type_id'], unique=False)
    op.create_index(op.f('ix_order_discount_order_id'), 'order_discount', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_discount_order_item_id'), 'order_discount', ['order_item_id'], unique=False)
    op.drop_constraint(op.f('fk_order_discount_order_item_id'), 'order_discount', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_discount_order_id'), 'order_discount', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_discount_order_discount_type_id'), 'order_discount', type_='foreignkey')
    op.alter_column('order_instruction', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'special_instructions',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'kitchen_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'delivery_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'allergen_warning',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'dietary_preferences',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_instruction_order_id'), 'order_instruction', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_instruction_order_instruction_id'), 'order_instruction', ['order_instruction_id'], unique=False)
    op.drop_constraint(op.f('fk_order_instruction_order_id'), 'order_instruction', type_='foreignkey')
    op.alter_column('order_integration_sync', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'sync_errors',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'last_synced_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_integration_sync_order_id'), 'order_integration_sync', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_integration_sync_order_integration_sync_id'), 'order_integration_sync', ['order_integration_sync_id'], unique=False)
    op.drop_constraint(op.f('fk_order_integration_sync_order_id'), 'order_integration_sync', type_='foreignkey')
    op.alter_column('order_invoice', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'invoice_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'invoice_generated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_invoice_order_id'), 'order_invoice', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_invoice_order_invoice_id'), 'order_invoice', ['order_invoice_id'], unique=False)
    op.drop_constraint(op.f('fk_order_invoice_order_id'), 'order_invoice', type_='foreignkey')
    op.alter_column('order_item', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'menu_item_variation_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'category_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'base_price',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'discount_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'tax_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'addon_total',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'unavailable_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'substitute_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'cooking_instructions',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'customizations',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'prepared_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'served_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'cancelled_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'cancellation_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_item', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_item_category_id'), 'order_item', ['category_id'], unique=False)
    op.create_index(op.f('ix_order_item_menu_item_id'), 'order_item', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_order_item_menu_item_variation_id'), 'order_item', ['menu_item_variation_id'], unique=False)
    op.create_index(op.f('ix_order_item_order_id'), 'order_item', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_item_order_item_id'), 'order_item', ['order_item_id'], unique=False)
    op.create_index(op.f('ix_order_item_substitute_item_id'), 'order_item', ['substitute_item_id'], unique=False)
    op.drop_constraint(op.f('fk_order_item_category_id'), 'order_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_item_menu_item_id'), 'order_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_item_menu_item_variation_id'), 'order_item', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_item_order_id'), 'order_item', type_='foreignkey')
    op.alter_column('order_kitchen_detail', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'order_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'estimated_ready_time',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'actual_ready_time',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'preparation_start_time',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'minimum_preparation_time',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_kitchen_detail_order_id'), 'order_kitchen_detail', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_kitchen_detail_order_item_id'), 'order_kitchen_detail', ['order_item_id'], unique=False)
    op.create_index(op.f('ix_order_kitchen_detail_order_kitchen_id'), 'order_kitchen_detail', ['order_kitchen_id'], unique=False)
    op.drop_constraint(op.f('fk_order_kitchen_detail_order_item_id'), 'order_kitchen_detail', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_kitchen_detail_order_id'), 'order_kitchen_detail', type_='foreignkey')
    op.alter_column('order_note', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_note', 'order_note_text',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_note', 'order_note_added_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_note', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_note', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_note', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_note_order_id'), 'order_note', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_note_order_note_id'), 'order_note', ['order_note_id'], unique=False)
    op.drop_constraint(op.f('fk_order_note_order_id'), 'order_note', type_='foreignkey')
    op.alter_column('order_payment', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'primary_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'order_payment_method_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'tax_calculation_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'paid_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'refund_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'wallet_amount_used',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'loyalty_points_used',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'loyalty_points_earned',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_payment_order_id'), 'order_payment', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_payment_order_payment_id'), 'order_payment', ['order_payment_id'], unique=False)
    op.create_index(op.f('ix_order_payment_order_payment_method_id'), 'order_payment', ['order_payment_method_id'], unique=False)
    op.create_index(op.f('ix_order_payment_payment_order_id'), 'order_payment', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_order_payment_primary_transaction_id'), 'order_payment', ['primary_transaction_id'], unique=False)
    op.create_index(op.f('ix_order_payment_tax_calculation_type_id'), 'order_payment', ['tax_calculation_type_id'], unique=False)
    op.drop_constraint(op.f('fk_order_payment_payment_order_id'), 'order_payment', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_payment_order_id'), 'order_payment', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_payment_order_payment_method_id'), 'order_payment', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_payment_tax_calculation_type_id'), 'order_payment', type_='foreignkey')
    op.drop_constraint(op.f('order_payment_primary_transaction_id_fkey'), 'order_payment', type_='foreignkey')
    op.alter_column('order_payment_method', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment_method', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_payment_method', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_payment_method_order_payment_method_id'), 'order_payment_method', ['order_payment_method_id'], unique=False)
    op.alter_column('order_priority', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_priority', 'priority_level',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_priority', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_priority', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_priority', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_priority_order_id'), 'order_priority', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_priority_order_priority_id'), 'order_priority', ['order_priority_id'], unique=False)
    op.drop_constraint(op.f('fk_order_priority_order_id'), 'order_priority', type_='foreignkey')
    op.alter_column('order_scheduling', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'preorder_date',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'preorder_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_scheduling_order_id'), 'order_scheduling', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_scheduling_order_scheduling_id'), 'order_scheduling', ['order_scheduling_id'], unique=False)
    op.drop_constraint(op.f('fk_order_scheduling_order_id'), 'order_scheduling', type_='foreignkey')
    op.alter_column('order_security_detail', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'callback_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'callback_received_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_security_detail_order_id'), 'order_security_detail', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_security_detail_order_security_detail_id'), 'order_security_detail', ['order_security_detail_id'], unique=False)
    op.drop_constraint(op.f('fk_order_security_detail_order_id'), 'order_security_detail', type_='foreignkey')
    op.alter_column('order_source_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_source_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_source_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_source_type_order_source_type_id'), 'order_source_type', ['order_source_type_id'], unique=False)
    op.alter_column('order_status_history', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_changed_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_status_history_order_id'), 'order_status_history', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_status_history_order_status_history_id'), 'order_status_history', ['order_status_history_id'], unique=False)
    op.create_index(op.f('ix_order_status_history_order_status_type_id'), 'order_status_history', ['order_status_type_id'], unique=False)
    op.drop_constraint(op.f('fk_order_status_history_order_status_type_id'), 'order_status_history', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_status_history_order_id'), 'order_status_history', type_='foreignkey')
    op.alter_column('order_status_type', 'order_status_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_status_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_status_type_order_status_type_id'), 'order_status_type', ['order_status_type_id'], unique=False)
    op.alter_column('order_tax_line', 'order_tax_line_charge_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_tax_line_percentage',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_tax_line_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_tax_line_order_item_id'), 'order_tax_line', ['order_item_id'], unique=False)
    op.create_index(op.f('ix_order_tax_line_order_tax_line_charge_id'), 'order_tax_line', ['order_tax_line_charge_id'], unique=False)
    op.create_index(op.f('ix_order_tax_line_order_tax_line_id'), 'order_tax_line', ['order_tax_line_id'], unique=False)
    op.drop_constraint(op.f('order_tax_line_order_tax_line_charge_id_fkey'), 'order_tax_line', type_='foreignkey')
    op.drop_constraint(op.f('fk_order_tax_line_order_item_id'), 'order_tax_line', type_='foreignkey')
    op.alter_column('order_total', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'items_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'addons_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'charges_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'discount_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'tax_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'platform_fee',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'convenience_fee',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'subtotal',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'roundoff_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'total_before_tip',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'tip_amount',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'final_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_total', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_total_order_id'), 'order_total', ['order_id'], unique=False)
    op.create_index(op.f('ix_order_total_order_total_id'), 'order_total', ['order_total_id'], unique=False)
    op.drop_constraint(op.f('fk_order_total_order_id'), 'order_total', type_='foreignkey')
    op.alter_column('order_type_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_type_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('order_type_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_order_type_table_order_type_id'), 'order_type_table', ['order_type_id'], unique=False)
    op.alter_column('orders', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'table_booking_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'order_number',
               existing_type=sa.BIGINT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'order_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'order_source_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'order_status_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('orders', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_orders_order_external_reference_id'), 'orders', ['order_external_reference_id'], unique=False)
    op.create_index(op.f('ix_orders_order_id'), 'orders', ['order_id'], unique=False)
    op.create_index(op.f('ix_orders_order_source_type_id'), 'orders', ['order_source_type_id'], unique=False)
    op.create_index(op.f('ix_orders_order_status_type_id'), 'orders', ['order_status_type_id'], unique=False)
    op.create_index(op.f('ix_orders_order_type_id'), 'orders', ['order_type_id'], unique=False)
    op.create_index(op.f('ix_orders_order_vr_order_id'), 'orders', ['order_vr_order_id'], unique=False)
    op.create_index(op.f('ix_orders_restaurant_id'), 'orders', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_orders_table_booking_id'), 'orders', ['table_booking_id'], unique=False)
    op.drop_constraint(op.f('fk_orders_order_type_id'), 'orders', type_='foreignkey')
    op.drop_constraint(op.f('fk_orders_restaurant_id'), 'orders', type_='foreignkey')
    op.drop_constraint(op.f('fk_orders_order_status_type_id'), 'orders', type_='foreignkey')
    op.drop_constraint(op.f('fk_orders_order_source_type_id'), 'orders', type_='foreignkey')
    op.drop_constraint(op.f('fk_orders_table_booking_id'), 'orders', type_='foreignkey')
    op.alter_column('password_reset', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_used_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_ip_address',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('password_reset', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_password_reset_password_reset_id'), 'password_reset', ['password_reset_id'], unique=False)
    op.create_index(op.f('ix_password_reset_user_id'), 'password_reset', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_password_reset_user_id'), 'password_reset', type_='foreignkey')
    op.alter_column('payment_audit_log', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'payment_refund_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'event_type',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'event_source',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'request_payload',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'response_payload',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'gateway_event_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'gateway_event_type',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'initiated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'error_message',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_audit_log_audit_log_id'), 'payment_audit_log', ['audit_log_id'], unique=False)
    op.create_index(op.f('ix_payment_audit_log_gateway_event_id'), 'payment_audit_log', ['gateway_event_id'], unique=False)
    op.create_index(op.f('ix_payment_audit_log_payment_order_id'), 'payment_audit_log', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_audit_log_payment_refund_id'), 'payment_audit_log', ['payment_refund_id'], unique=False)
    op.create_index(op.f('ix_payment_audit_log_payment_transaction_id'), 'payment_audit_log', ['payment_transaction_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_audit_log_payment_refund_id'), 'payment_audit_log', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_audit_log_payment_transaction_id'), 'payment_audit_log', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_audit_log_payment_order_id'), 'payment_audit_log', type_='foreignkey')
    op.alter_column('payment_external_mapping', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_system',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_payment_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_order_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'last_synced_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'sync_error',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_response',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_external_mapping_external_mapping_id'), 'payment_external_mapping', ['external_mapping_id'], unique=False)
    op.create_index(op.f('ix_payment_external_mapping_external_order_id'), 'payment_external_mapping', ['external_order_id'], unique=False)
    op.create_index(op.f('ix_payment_external_mapping_external_payment_id'), 'payment_external_mapping', ['external_payment_id'], unique=False)
    op.create_index(op.f('ix_payment_external_mapping_payment_order_id'), 'payment_external_mapping', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_external_mapping_payment_transaction_id'), 'payment_external_mapping', ['payment_transaction_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_external_mapping_payment_order_id'), 'payment_external_mapping', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_external_mapping_payment_transaction_id'), 'payment_external_mapping', type_='foreignkey')
    op.alter_column('payment_gateway', 'payment_gateway_config',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_gateway_payment_gateway_id'), 'payment_gateway', ['payment_gateway_id'], unique=False)
    op.alter_column('payment_order', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_gateway_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'gateway_order_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'order_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_short_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'metadata',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_order', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_order_customer_id'), 'payment_order', ['customer_id'], unique=False)
    op.create_index(op.f('ix_payment_order_gateway_order_id'), 'payment_order', ['gateway_order_id'], unique=False)
    op.create_index(op.f('ix_payment_order_order_id'), 'payment_order', ['order_id'], unique=False)
    op.create_index(op.f('ix_payment_order_payment_gateway_id'), 'payment_order', ['payment_gateway_id'], unique=False)
    op.create_index(op.f('ix_payment_order_payment_link_id'), 'payment_order', ['payment_link_id'], unique=False)
    op.create_index(op.f('ix_payment_order_payment_order_id'), 'payment_order', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_order_restaurant_id'), 'payment_order', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_order_customer_id'), 'payment_order', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_order_order_id'), 'payment_order', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_order_restaurant_id'), 'payment_order', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_order_payment_gateway_id'), 'payment_order', type_='foreignkey')
    op.alter_column('payment_refund', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'order_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'payment_gateway_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_reason_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_reason_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_status_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'initiated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'approved_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'processing_notes',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'gateway_response',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_initiated_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_processed_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_completed_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_refund_gateway_payment_id'), 'payment_refund', ['gateway_payment_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_gateway_refund_id'), 'payment_refund', ['gateway_refund_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_order_id'), 'payment_refund', ['order_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_order_item_id'), 'payment_refund', ['order_item_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_payment_gateway_id'), 'payment_refund', ['payment_gateway_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_payment_order_id'), 'payment_refund', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_payment_refund_id'), 'payment_refund', ['payment_refund_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_payment_transaction_id'), 'payment_refund', ['payment_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_refund_reason_type_id'), 'payment_refund', ['refund_reason_type_id'], unique=False)
    op.create_index(op.f('ix_payment_refund_refund_status_type_id'), 'payment_refund', ['refund_status_type_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_refund_refund_status_type_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_payment_transaction_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_payment_order_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_refund_reason_type_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_payment_gateway_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_order_item_id'), 'payment_refund', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_refund_order_id'), 'payment_refund', type_='foreignkey')
    op.alter_column('payment_retry_attempt', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'attempt_number',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'gateway_payment_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'failure_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'retry_metadata',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_retry_attempt_gateway_payment_id'), 'payment_retry_attempt', ['gateway_payment_id'], unique=False)
    op.create_index(op.f('ix_payment_retry_attempt_payment_order_id'), 'payment_retry_attempt', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_retry_attempt_payment_transaction_id'), 'payment_retry_attempt', ['payment_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_retry_attempt_retry_attempt_id'), 'payment_retry_attempt', ['retry_attempt_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_retry_attempt_payment_order_id'), 'payment_retry_attempt', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_retry_attempt_payment_transaction_id'), 'payment_retry_attempt', type_='foreignkey')
    op.alter_column('payment_split', 'payment_transaction_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_party_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_percentage',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'delivery_partner_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'settled_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_split', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_split_delivery_partner_id'), 'payment_split', ['delivery_partner_id'], unique=False)
    op.create_index(op.f('ix_payment_split_order_id'), 'payment_split', ['order_id'], unique=False)
    op.create_index(op.f('ix_payment_split_payment_split_id'), 'payment_split', ['payment_split_id'], unique=False)
    op.create_index(op.f('ix_payment_split_payment_transaction_id'), 'payment_split', ['payment_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_split_split_party_id'), 'payment_split', ['split_party_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_split_order_id'), 'payment_split', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_split_payment_transaction_id'), 'payment_split', type_='foreignkey')
    op.alter_column('payment_status_type', 'payment_status_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_status_type_payment_status_type_id'), 'payment_status_type', ['payment_status_type_id'], unique=False)
    op.alter_column('payment_transaction', 'payment_order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'order_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_gateway_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_payment_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_transaction_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_signature',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'order_payment_method_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_method_details',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'transaction_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'amount_paid',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'amount_due',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_fee',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_tax',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'net_amount',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_status_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'failure_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'error_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'bank_name',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'card_network',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'card_type',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'wallet_provider',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'upi_vpa',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_email',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_contact',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_response',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'attempted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'authorized_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'captured_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'settled_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_transaction_customer_id'), 'payment_transaction', ['customer_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_gateway_payment_id'), 'payment_transaction', ['gateway_payment_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_gateway_transaction_id'), 'payment_transaction', ['gateway_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_order_id'), 'payment_transaction', ['order_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_order_payment_method_id'), 'payment_transaction', ['order_payment_method_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_payment_gateway_id'), 'payment_transaction', ['payment_gateway_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_payment_order_id'), 'payment_transaction', ['payment_order_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_payment_status_type_id'), 'payment_transaction', ['payment_status_type_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_payment_transaction_id'), 'payment_transaction', ['payment_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_transaction_restaurant_id'), 'payment_transaction', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_transaction_order_payment_method_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_payment_status_type_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_order_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_payment_gateway_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_restaurant_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_payment_order_id'), 'payment_transaction', type_='foreignkey')
    op.drop_constraint(op.f('fk_payment_transaction_customer_id'), 'payment_transaction', type_='foreignkey')
    op.alter_column('payment_webhook_log', 'payment_gateway_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_event_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_event_type',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_payload',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_signature',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'processing_error',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'extracted_payment_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'extracted_order_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'matched_payment_transaction_id',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'source_ip',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'processed_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_payment_webhook_log_extracted_order_id'), 'payment_webhook_log', ['extracted_order_id'], unique=False)
    op.create_index(op.f('ix_payment_webhook_log_extracted_payment_id'), 'payment_webhook_log', ['extracted_payment_id'], unique=False)
    op.create_index(op.f('ix_payment_webhook_log_matched_payment_transaction_id'), 'payment_webhook_log', ['matched_payment_transaction_id'], unique=False)
    op.create_index(op.f('ix_payment_webhook_log_payment_gateway_id'), 'payment_webhook_log', ['payment_gateway_id'], unique=False)
    op.create_index(op.f('ix_payment_webhook_log_webhook_event_id'), 'payment_webhook_log', ['webhook_event_id'], unique=False)
    op.create_index(op.f('ix_payment_webhook_log_webhook_log_id'), 'payment_webhook_log', ['webhook_log_id'], unique=False)
    op.drop_constraint(op.f('fk_payment_webhook_log_payment_gateway_id'), 'payment_webhook_log', type_='foreignkey')
    op.alter_column('pincode_table', 'city_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'area_name',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_pincode_table_city_id'), 'pincode_table', ['city_id'], unique=False)
    op.create_index(op.f('ix_pincode_table_pincode_id'), 'pincode_table', ['pincode_id'], unique=False)
    op.drop_constraint(op.f('fk_pincode_table_city_id'), 'pincode_table', type_='foreignkey')
    op.alter_column('refund_reason_type', 'refund_reason_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_refund_reason_type_refund_reason_type_id'), 'refund_reason_type', ['refund_reason_type_id'], unique=False)
    op.alter_column('refund_status_type', 'refund_status_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_refund_status_type_refund_status_type_id'), 'refund_status_type', ['refund_status_type_id'], unique=False)
    op.alter_column('restaurant_faq', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_faq', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_faq', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_restaurant_faq_restaurant_faq_id'), 'restaurant_faq', ['restaurant_faq_id'], unique=False)
    op.create_index(op.f('ix_restaurant_faq_restaurant_id'), 'restaurant_faq', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_restaurant_faq_restaurant_id'), 'restaurant_faq', type_='foreignkey')
    op.alter_column('restaurant_policy', 'restaurant_policy_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'restaurant_effective_from',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'restaurant_effective_until',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_restaurant_policy_restaurant_id'), 'restaurant_policy', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_restaurant_policy_restaurant_policy_id'), 'restaurant_policy', ['restaurant_policy_id'], unique=False)
    op.drop_constraint(op.f('fk_restaurant_policy_restaurant_id'), 'restaurant_policy', type_='foreignkey')
    op.alter_column('restaurant_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_restaurant_table_branch_id'), 'restaurant_table', ['branch_id'], unique=False)
    op.create_index(op.f('ix_restaurant_table_chain_id'), 'restaurant_table', ['chain_id'], unique=False)
    op.create_index(op.f('ix_restaurant_table_restaurant_id'), 'restaurant_table', ['restaurant_id'], unique=False)
    op.drop_constraint(op.f('fk_restaurant_table_branch_id'), 'restaurant_table', type_='foreignkey')
    op.drop_constraint(op.f('fk_restaurant_table_chain_id'), 'restaurant_table', type_='foreignkey')
    op.alter_column('role', 'role_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('role', 'role_level',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('role', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('role', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('role', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_role_role_id'), 'role', ['role_id'], unique=False)
    op.alter_column('round_robin_pool', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_round_robin_pool_restaurant_id'), 'round_robin_pool', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_round_robin_pool_round_robin_pool_id'), 'round_robin_pool', ['round_robin_pool_id'], unique=False)
    op.drop_constraint(op.f('fk_round_robin_pool_restaurant_id'), 'round_robin_pool', type_='foreignkey')
    op.alter_column('round_robin_pool_member', 'round_robin_pool_member_priority',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'round_robin_pool_member_last_assigned_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_round_robin_pool_member_round_robin_pool_id'), 'round_robin_pool_member', ['round_robin_pool_id'], unique=False)
    op.create_index(op.f('ix_round_robin_pool_member_round_robin_pool_member_id'), 'round_robin_pool_member', ['round_robin_pool_member_id'], unique=False)
    op.create_index(op.f('ix_round_robin_pool_member_user_id'), 'round_robin_pool_member', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_round_robin_pool_member_user_id'), 'round_robin_pool_member', type_='foreignkey')
    op.drop_constraint(op.f('fk_round_robin_pool_member_round_robin_pool_id'), 'round_robin_pool_member', type_='foreignkey')
    op.alter_column('shift_timing', 'shift_timing_start_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'shift_timing_end_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'shift_timing_break_duration_minutes',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_shift_timing_restaurant_id'), 'shift_timing', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_shift_timing_shift_timing_id'), 'shift_timing', ['shift_timing_id'], unique=False)
    op.drop_constraint(op.f('fk_shift_timing_restaurant_id'), 'shift_timing', type_='foreignkey')
    op.alter_column('state_table', 'country_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('state_table', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('state_table', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('state_table', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_state_table_country_id'), 'state_table', ['country_id'], unique=False)
    op.create_index(op.f('ix_state_table_state_id'), 'state_table', ['state_id'], unique=False)
    op.drop_constraint(op.f('fk_state_table_country_id'), 'state_table', type_='foreignkey')
    op.alter_column('table_booking_info', 'meal_slot_timing_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'previous_slot_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'occasion_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'party_size',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'booking_date',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'booking_time',
               existing_type=postgresql.TIME(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'special_request',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'cancellation_reason',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_table_booking_info_customer_id'), 'table_booking_info', ['customer_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_meal_slot_timing_id'), 'table_booking_info', ['meal_slot_timing_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_occasion_id'), 'table_booking_info', ['occasion_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_previous_slot_id'), 'table_booking_info', ['previous_slot_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_restaurant_id'), 'table_booking_info', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_table_booking_id'), 'table_booking_info', ['table_booking_id'], unique=False)
    op.create_index(op.f('ix_table_booking_info_table_id'), 'table_booking_info', ['table_id'], unique=False)
    op.drop_constraint(op.f('fk_table_booking_info_customer_id'), 'table_booking_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_table_booking_info_restaurant_id'), 'table_booking_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_table_booking_info_table_id'), 'table_booking_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_table_booking_info_meal_slot_timing_id'), 'table_booking_info', type_='foreignkey')
    op.drop_constraint(op.f('fk_table_booking_info_occasion_id'), 'table_booking_info', type_='foreignkey')
    op.alter_column('table_booking_occasion_info', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_occasion_info', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_booking_occasion_info', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_table_booking_occasion_info_occasion_id'), 'table_booking_occasion_info', ['occasion_id'], unique=False)
    op.alter_column('table_info', 'table_number',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_info', 'table_capacity',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_info', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_info', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_info', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_table_info_restaurant_id'), 'table_info', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_table_info_table_id'), 'table_info', ['table_id'], unique=False)
    op.drop_constraint(op.f('fk_table_info_restaurant_id'), 'table_info', type_='foreignkey')
    op.alter_column('table_special_features', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_special_features', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('table_special_features', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_table_special_features_table_feature_id'), 'table_special_features', ['table_feature_id'], unique=False)
    op.create_index(op.f('ix_table_special_features_table_id'), 'table_special_features', ['table_id'], unique=False)
    op.drop_constraint(op.f('fk_table_special_features_table_id'), 'table_special_features', type_='foreignkey')
    op.alter_column('tag', 'tag_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tag', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tag', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tag', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_tag_tag_id'), 'tag', ['tag_id'], unique=False)
    op.alter_column('tags_feedback', 'description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.drop_index(op.f('tags_feedback_tag_name_key'), table_name='tags_feedback')
    op.create_index(op.f('ix_tags_feedback_tag_id'), 'tags_feedback', ['tag_id'], unique=False)
    op.alter_column('tax_calculation_type', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tax_calculation_type', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('tax_calculation_type', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_tax_calculation_type_tax_calculation_type_id'), 'tax_calculation_type', ['tax_calculation_type_id'], unique=False)
    op.alter_column('taxes', 'tax_percentage',
               existing_type=sa.NUMERIC(precision=5, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_total',
               existing_type=sa.NUMERIC(precision=12, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_description',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('taxes', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_taxes_restaurant_id'), 'taxes', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_taxes_tax_id'), 'taxes', ['tax_id'], unique=False)
    op.drop_constraint(op.f('fk_taxes_restaurant_id'), 'taxes', type_='foreignkey')
    op.alter_column('user', 'user_password_hash',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_user_id'), 'user', ['user_id'], unique=False)
    op.alter_column('user_audit_trail', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_record_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_action',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_old_values',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_new_values',
               existing_type=postgresql.JSONB(astext_type=sa.Text()),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_changed_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_audit_trail_user_audit_trail_id'), 'user_audit_trail', ['user_audit_trail_id'], unique=False)
    op.create_index(op.f('ix_user_audit_trail_user_audit_trail_record_id'), 'user_audit_trail', ['user_audit_trail_record_id'], unique=False)
    op.create_index(op.f('ix_user_audit_trail_user_id'), 'user_audit_trail', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_user_audit_trail_user_id'), 'user_audit_trail', type_='foreignkey')
    op.alter_column('user_contact', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_contact', 'user_contact_verified_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_contact', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_contact', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_contact', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_contact_user_contact_id'), 'user_contact', ['user_contact_id'], unique=False)
    op.create_index(op.f('ix_user_contact_user_id'), 'user_contact', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_user_contact_user_id'), 'user_contact', type_='foreignkey')
    op.alter_column('user_department', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_department', 'department_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_department', 'user_department_assigned_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_department', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_department', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_department', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_department_department_id'), 'user_department', ['department_id'], unique=False)
    op.create_index(op.f('ix_user_department_user_department_id'), 'user_department', ['user_department_id'], unique=False)
    op.create_index(op.f('ix_user_department_user_id'), 'user_department', ['user_id'], unique=False)
    op.drop_constraint(op.f('fk_user_department_department_id'), 'user_department', type_='foreignkey')
    op.drop_constraint(op.f('fk_user_department_user_id'), 'user_department', type_='foreignkey')
    op.alter_column('user_login_history', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_login_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_logout_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_location_data',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_login_history_user_id'), 'user_login_history', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_login_history_user_login_history_id'), 'user_login_history', ['user_login_history_id'], unique=False)
    op.drop_constraint(op.f('fk_user_login_history_user_id'), 'user_login_history', type_='foreignkey')
    op.alter_column('user_profile', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_date_of_birth',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_profile_picture_url',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_bio',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_address_line1',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_address_line2',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_language_preference',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_profile', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_profile_user_id'), 'user_profile', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_profile_user_profile_id'), 'user_profile', ['user_profile_id'], unique=False)
    op.drop_constraint(op.f('fk_user_profile_user_id'), 'user_profile', type_='foreignkey')
    op.alter_column('user_role', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'role_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'user_role_assigned_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'user_role_expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_role', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_role_role_id'), 'user_role', ['role_id'], unique=False)
    op.create_index(op.f('ix_user_role_user_id'), 'user_role', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_role_user_role_id'), 'user_role', ['user_role_id'], unique=False)
    op.drop_constraint(op.f('fk_user_role_user_id'), 'user_role', type_='foreignkey')
    op.drop_constraint(op.f('fk_user_role_role_id'), 'user_role', type_='foreignkey')
    op.alter_column('user_session', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_device_info',
               existing_type=sa.TEXT(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_expires_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_last_activity_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_logged_out_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_session', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_session_user_id'), 'user_session', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_session_user_session_id'), 'user_session', ['user_session_id'], unique=False)
    op.drop_constraint(op.f('fk_user_session_user_id'), 'user_session', type_='foreignkey')
    op.alter_column('user_shift_assignment', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'shift_timing_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_effective_from',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_effective_to',
               existing_type=sa.DATE(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_assigned_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_shift_assignment_shift_timing_id'), 'user_shift_assignment', ['shift_timing_id'], unique=False)
    op.create_index(op.f('ix_user_shift_assignment_user_id'), 'user_shift_assignment', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_shift_assignment_user_shift_assignment_id'), 'user_shift_assignment', ['user_shift_assignment_id'], unique=False)
    op.drop_constraint(op.f('fk_user_shift_assignment_user_id'), 'user_shift_assignment', type_='foreignkey')
    op.drop_constraint(op.f('fk_user_shift_assignment_shift_timing_id'), 'user_shift_assignment', type_='foreignkey')
    op.alter_column('user_tag', 'user_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_tag', 'tag_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_tag', 'user_tag_added_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_tag', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_tag', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('user_tag', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_user_tag_tag_id'), 'user_tag', ['tag_id'], unique=False)
    op.create_index(op.f('ix_user_tag_user_id'), 'user_tag', ['user_id'], unique=False)
    op.create_index(op.f('ix_user_tag_user_tag_id'), 'user_tag', ['user_tag_id'], unique=False)
    op.drop_constraint(op.f('user_tag_tag_id_fkey'), 'user_tag', type_='foreignkey')
    op.drop_constraint(op.f('fk_user_tag_user_id'), 'user_tag', type_='foreignkey')
    op.alter_column('variation_groups', 'restaurant_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'variation_group_min_selection',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'variation_group_max_selection',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_variation_groups_restaurant_id'), 'variation_groups', ['restaurant_id'], unique=False)
    op.create_index(op.f('ix_variation_groups_variation_group_id'), 'variation_groups', ['variation_group_id'], unique=False)
    op.drop_constraint(op.f('fk_variation_groups_restaurant_id'), 'variation_groups', type_='foreignkey')
    op.alter_column('variation_options', 'variation_group_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'menu_item_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'option_price_modifier',
               existing_type=sa.NUMERIC(precision=10, scale=2),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'option_rank',
               existing_type=sa.INTEGER(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'dietary_type_id',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'created_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'updated_by',
               existing_type=sa.UUID(),
               type_=sa.String(),
               existing_nullable=True)
    op.alter_column('variation_options', 'deleted_at',
               existing_type=postgresql.TIMESTAMP(timezone=True),
               type_=sa.String(),
               existing_nullable=True)
    op.create_index(op.f('ix_variation_options_dietary_type_id'), 'variation_options', ['dietary_type_id'], unique=False)
    op.create_index(op.f('ix_variation_options_menu_item_id'), 'variation_options', ['menu_item_id'], unique=False)
    op.create_index(op.f('ix_variation_options_variation_group_id'), 'variation_options', ['variation_group_id'], unique=False)
    op.create_index(op.f('ix_variation_options_variation_option_id'), 'variation_options', ['variation_option_id'], unique=False)
    op.drop_constraint(op.f('fk_variation_options_menu_item_id'), 'variation_options', type_='foreignkey')
    op.drop_constraint(op.f('fk_variation_options_variation_group_id'), 'variation_options', type_='foreignkey')
    op.drop_constraint(op.f('fk_variation_options_dietary_type_id'), 'variation_options', type_='foreignkey')
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_foreign_key(op.f('fk_variation_options_dietary_type_id'), 'variation_options', 'dietary_types', ['dietary_type_id'], ['dietary_type_id'])
    op.create_foreign_key(op.f('fk_variation_options_variation_group_id'), 'variation_options', 'variation_groups', ['variation_group_id'], ['variation_group_id'])
    op.create_foreign_key(op.f('fk_variation_options_menu_item_id'), 'variation_options', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_variation_options_variation_option_id'), table_name='variation_options')
    op.drop_index(op.f('ix_variation_options_variation_group_id'), table_name='variation_options')
    op.drop_index(op.f('ix_variation_options_menu_item_id'), table_name='variation_options')
    op.drop_index(op.f('ix_variation_options_dietary_type_id'), table_name='variation_options')
    op.alter_column('variation_options', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('variation_options', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_options', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_options', 'dietary_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_options', 'option_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('variation_options', 'option_price_modifier',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('variation_options', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_options', 'variation_group_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_variation_groups_restaurant_id'), 'variation_groups', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_variation_groups_variation_group_id'), table_name='variation_groups')
    op.drop_index(op.f('ix_variation_groups_restaurant_id'), table_name='variation_groups')
    op.alter_column('variation_groups', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('variation_groups', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'variation_group_max_selection',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'variation_group_min_selection',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('variation_groups', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_tag_user_id'), 'user_tag', 'user', ['user_id'], ['user_id'])
    op.create_foreign_key(op.f('user_tag_tag_id_fkey'), 'user_tag', 'tag', ['tag_id'], ['tag_id'])
    op.drop_index(op.f('ix_user_tag_user_tag_id'), table_name='user_tag')
    op.drop_index(op.f('ix_user_tag_user_id'), table_name='user_tag')
    op.drop_index(op.f('ix_user_tag_tag_id'), table_name='user_tag')
    op.alter_column('user_tag', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_tag', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_tag', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_tag', 'user_tag_added_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_tag', 'tag_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_tag', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_shift_assignment_shift_timing_id'), 'user_shift_assignment', 'shift_timing', ['shift_timing_id'], ['shift_timing_id'])
    op.create_foreign_key(op.f('fk_user_shift_assignment_user_id'), 'user_shift_assignment', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_shift_assignment_user_shift_assignment_id'), table_name='user_shift_assignment')
    op.drop_index(op.f('ix_user_shift_assignment_user_id'), table_name='user_shift_assignment')
    op.drop_index(op.f('ix_user_shift_assignment_shift_timing_id'), table_name='user_shift_assignment')
    op.alter_column('user_shift_assignment', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_assigned_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_effective_to',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_shift_assignment_effective_from',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'shift_timing_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_shift_assignment', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_session_user_id'), 'user_session', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_session_user_session_id'), table_name='user_session')
    op.drop_index(op.f('ix_user_session_user_id'), table_name='user_session')
    op.alter_column('user_session', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_session', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_session', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_logged_out_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_last_activity_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_session', 'user_session_device_info',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_session', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_role_role_id'), 'user_role', 'role', ['role_id'], ['role_id'])
    op.create_foreign_key(op.f('fk_user_role_user_id'), 'user_role', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_role_user_role_id'), table_name='user_role')
    op.drop_index(op.f('ix_user_role_user_id'), table_name='user_role')
    op.drop_index(op.f('ix_user_role_role_id'), table_name='user_role')
    op.alter_column('user_role', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_role', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_role', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_role', 'user_role_expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_role', 'user_role_assigned_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_role', 'role_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_role', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_profile_user_id'), 'user_profile', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_profile_user_profile_id'), table_name='user_profile')
    op.drop_index(op.f('ix_user_profile_user_id'), table_name='user_profile')
    op.alter_column('user_profile', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_profile', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_profile', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_language_preference',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_address_line2',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_address_line1',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_bio',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_profile_picture_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_profile_date_of_birth',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('user_profile', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_login_history_user_id'), 'user_login_history', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_login_history_user_login_history_id'), table_name='user_login_history')
    op.drop_index(op.f('ix_user_login_history_user_id'), table_name='user_login_history')
    op.alter_column('user_login_history', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_login_history', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_location_data',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_logout_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_login_history_login_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_login_history', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_department_user_id'), 'user_department', 'user', ['user_id'], ['user_id'])
    op.create_foreign_key(op.f('fk_user_department_department_id'), 'user_department', 'department', ['department_id'], ['department_id'])
    op.drop_index(op.f('ix_user_department_user_id'), table_name='user_department')
    op.drop_index(op.f('ix_user_department_user_department_id'), table_name='user_department')
    op.drop_index(op.f('ix_user_department_department_id'), table_name='user_department')
    op.alter_column('user_department', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_department', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_department', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_department', 'user_department_assigned_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_department', 'department_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_department', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_contact_user_id'), 'user_contact', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_contact_user_id'), table_name='user_contact')
    op.drop_index(op.f('ix_user_contact_user_contact_id'), table_name='user_contact')
    op.alter_column('user_contact', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_contact', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_contact', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_contact', 'user_contact_verified_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_contact', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_user_audit_trail_user_id'), 'user_audit_trail', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_user_audit_trail_user_id'), table_name='user_audit_trail')
    op.drop_index(op.f('ix_user_audit_trail_user_audit_trail_record_id'), table_name='user_audit_trail')
    op.drop_index(op.f('ix_user_audit_trail_user_audit_trail_id'), table_name='user_audit_trail')
    op.alter_column('user_audit_trail', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_changed_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_new_values',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_old_values',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_action',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_audit_trail_record_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user_audit_trail', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_user_user_id'), table_name='user')
    op.alter_column('user', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('user', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('user', 'user_password_hash',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_taxes_restaurant_id'), 'taxes', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_taxes_tax_id'), table_name='taxes')
    op.drop_index(op.f('ix_taxes_restaurant_id'), table_name='taxes')
    op.alter_column('taxes', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('taxes', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('taxes', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('taxes', 'tax_percentage',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=5, scale=2),
               existing_nullable=True)
    op.drop_index(op.f('ix_tax_calculation_type_tax_calculation_type_id'), table_name='tax_calculation_type')
    op.alter_column('tax_calculation_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('tax_calculation_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('tax_calculation_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_tags_feedback_tag_id'), table_name='tags_feedback')
    op.create_index(op.f('tags_feedback_tag_name_key'), 'tags_feedback', ['tag_name'], unique=True)
    op.alter_column('tags_feedback', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('tags_feedback', 'description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.drop_index(op.f('ix_tag_tag_id'), table_name='tag')
    op.alter_column('tag', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('tag', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('tag', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('tag', 'tag_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_table_special_features_table_id'), 'table_special_features', 'table_info', ['table_id'], ['table_id'])
    op.drop_index(op.f('ix_table_special_features_table_id'), table_name='table_special_features')
    op.drop_index(op.f('ix_table_special_features_table_feature_id'), table_name='table_special_features')
    op.alter_column('table_special_features', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('table_special_features', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_special_features', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_table_info_restaurant_id'), 'table_info', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_table_info_table_id'), table_name='table_info')
    op.drop_index(op.f('ix_table_info_restaurant_id'), table_name='table_info')
    op.alter_column('table_info', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('table_info', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_info', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_info', 'table_capacity',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('table_info', 'table_number',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.drop_index(op.f('ix_table_booking_occasion_info_occasion_id'), table_name='table_booking_occasion_info')
    op.alter_column('table_booking_occasion_info', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('table_booking_occasion_info', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_booking_occasion_info', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_table_booking_info_occasion_id'), 'table_booking_info', 'table_booking_occasion_info', ['occasion_id'], ['occasion_id'])
    op.create_foreign_key(op.f('fk_table_booking_info_meal_slot_timing_id'), 'table_booking_info', 'meal_slot_timing', ['meal_slot_timing_id'], ['meal_slot_timing_id'])
    op.create_foreign_key(op.f('fk_table_booking_info_table_id'), 'table_booking_info', 'table_info', ['table_id'], ['table_id'])
    op.create_foreign_key(op.f('fk_table_booking_info_restaurant_id'), 'table_booking_info', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_table_booking_info_customer_id'), 'table_booking_info', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_table_booking_info_table_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_table_booking_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_restaurant_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_previous_slot_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_occasion_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_meal_slot_timing_id'), table_name='table_booking_info')
    op.drop_index(op.f('ix_table_booking_info_customer_id'), table_name='table_booking_info')
    op.alter_column('table_booking_info', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'cancellation_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'special_request',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'booking_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'booking_date',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'party_size',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'occasion_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'previous_slot_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('table_booking_info', 'meal_slot_timing_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_state_table_country_id'), 'state_table', 'country_table', ['country_id'], ['country_id'])
    op.drop_index(op.f('ix_state_table_state_id'), table_name='state_table')
    op.drop_index(op.f('ix_state_table_country_id'), table_name='state_table')
    op.alter_column('state_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('state_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('state_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('state_table', 'country_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_shift_timing_restaurant_id'), 'shift_timing', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_shift_timing_shift_timing_id'), table_name='shift_timing')
    op.drop_index(op.f('ix_shift_timing_restaurant_id'), table_name='shift_timing')
    op.alter_column('shift_timing', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('shift_timing', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'shift_timing_break_duration_minutes',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'shift_timing_end_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('shift_timing', 'shift_timing_start_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_round_robin_pool_member_round_robin_pool_id'), 'round_robin_pool_member', 'round_robin_pool', ['round_robin_pool_id'], ['round_robin_pool_id'])
    op.create_foreign_key(op.f('fk_round_robin_pool_member_user_id'), 'round_robin_pool_member', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_round_robin_pool_member_user_id'), table_name='round_robin_pool_member')
    op.drop_index(op.f('ix_round_robin_pool_member_round_robin_pool_member_id'), table_name='round_robin_pool_member')
    op.drop_index(op.f('ix_round_robin_pool_member_round_robin_pool_id'), table_name='round_robin_pool_member')
    op.alter_column('round_robin_pool_member', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'round_robin_pool_member_last_assigned_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('round_robin_pool_member', 'round_robin_pool_member_priority',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_round_robin_pool_restaurant_id'), 'round_robin_pool', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_round_robin_pool_round_robin_pool_id'), table_name='round_robin_pool')
    op.drop_index(op.f('ix_round_robin_pool_restaurant_id'), table_name='round_robin_pool')
    op.alter_column('round_robin_pool', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('round_robin_pool', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('round_robin_pool', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_role_role_id'), table_name='role')
    op.alter_column('role', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('role', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('role', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('role', 'role_level',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('role', 'role_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_restaurant_table_chain_id'), 'restaurant_table', 'chain_info_table', ['chain_id'], ['chain_id'])
    op.create_foreign_key(op.f('fk_restaurant_table_branch_id'), 'restaurant_table', 'branch_info_table', ['branch_id'], ['branch_id'])
    op.drop_index(op.f('ix_restaurant_table_restaurant_id'), table_name='restaurant_table')
    op.drop_index(op.f('ix_restaurant_table_chain_id'), table_name='restaurant_table')
    op.drop_index(op.f('ix_restaurant_table_branch_id'), table_name='restaurant_table')
    op.alter_column('restaurant_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_restaurant_policy_restaurant_id'), 'restaurant_policy', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_restaurant_policy_restaurant_policy_id'), table_name='restaurant_policy')
    op.drop_index(op.f('ix_restaurant_policy_restaurant_id'), table_name='restaurant_policy')
    op.alter_column('restaurant_policy', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'restaurant_effective_until',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'restaurant_effective_from',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('restaurant_policy', 'restaurant_policy_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_restaurant_faq_restaurant_id'), 'restaurant_faq', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_restaurant_faq_restaurant_id'), table_name='restaurant_faq')
    op.drop_index(op.f('ix_restaurant_faq_restaurant_faq_id'), table_name='restaurant_faq')
    op.alter_column('restaurant_faq', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('restaurant_faq', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('restaurant_faq', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_refund_status_type_refund_status_type_id'), table_name='refund_status_type')
    op.alter_column('refund_status_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('refund_status_type', 'refund_status_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.drop_index(op.f('ix_refund_reason_type_refund_reason_type_id'), table_name='refund_reason_type')
    op.alter_column('refund_reason_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('refund_reason_type', 'refund_reason_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_pincode_table_city_id'), 'pincode_table', 'city_table', ['city_id'], ['city_id'])
    op.drop_index(op.f('ix_pincode_table_pincode_id'), table_name='pincode_table')
    op.drop_index(op.f('ix_pincode_table_city_id'), table_name='pincode_table')
    op.alter_column('pincode_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('pincode_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'area_name',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('pincode_table', 'city_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_webhook_log_payment_gateway_id'), 'payment_webhook_log', 'payment_gateway', ['payment_gateway_id'], ['payment_gateway_id'])
    op.drop_index(op.f('ix_payment_webhook_log_webhook_log_id'), table_name='payment_webhook_log')
    op.drop_index(op.f('ix_payment_webhook_log_webhook_event_id'), table_name='payment_webhook_log')
    op.drop_index(op.f('ix_payment_webhook_log_payment_gateway_id'), table_name='payment_webhook_log')
    op.drop_index(op.f('ix_payment_webhook_log_matched_payment_transaction_id'), table_name='payment_webhook_log')
    op.drop_index(op.f('ix_payment_webhook_log_extracted_payment_id'), table_name='payment_webhook_log')
    op.drop_index(op.f('ix_payment_webhook_log_extracted_order_id'), table_name='payment_webhook_log')
    op.alter_column('payment_webhook_log', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'processed_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'source_ip',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'matched_payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'extracted_order_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'extracted_payment_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'processing_error',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_signature',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_payload',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_event_type',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'webhook_event_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_webhook_log', 'payment_gateway_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_transaction_customer_id'), 'payment_transaction', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_payment_order_id'), 'payment_transaction', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_restaurant_id'), 'payment_transaction', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_payment_gateway_id'), 'payment_transaction', 'payment_gateway', ['payment_gateway_id'], ['payment_gateway_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_order_id'), 'payment_transaction', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_payment_status_type_id'), 'payment_transaction', 'payment_status_type', ['payment_status_type_id'], ['payment_status_type_id'])
    op.create_foreign_key(op.f('fk_payment_transaction_order_payment_method_id'), 'payment_transaction', 'order_payment_method', ['order_payment_method_id'], ['order_payment_method_id'])
    op.drop_index(op.f('ix_payment_transaction_restaurant_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_payment_transaction_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_payment_status_type_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_payment_order_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_payment_gateway_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_order_payment_method_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_order_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_gateway_transaction_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_gateway_payment_id'), table_name='payment_transaction')
    op.drop_index(op.f('ix_payment_transaction_customer_id'), table_name='payment_transaction')
    op.alter_column('payment_transaction', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'settled_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'captured_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'authorized_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'attempted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_response',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_contact',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_email',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'upi_vpa',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'wallet_provider',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'card_type',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'card_network',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'bank_name',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'error_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'failure_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_status_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'net_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_tax',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_fee',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'amount_due',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'amount_paid',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'transaction_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_method_details',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'order_payment_method_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_signature',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_transaction_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'gateway_payment_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_gateway_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_transaction', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_payment_status_type_payment_status_type_id'), table_name='payment_status_type')
    op.alter_column('payment_status_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_status_type', 'payment_status_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_split_payment_transaction_id'), 'payment_split', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_payment_split_order_id'), 'payment_split', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_payment_split_split_party_id'), table_name='payment_split')
    op.drop_index(op.f('ix_payment_split_payment_transaction_id'), table_name='payment_split')
    op.drop_index(op.f('ix_payment_split_payment_split_id'), table_name='payment_split')
    op.drop_index(op.f('ix_payment_split_order_id'), table_name='payment_split')
    op.drop_index(op.f('ix_payment_split_delivery_partner_id'), table_name='payment_split')
    op.alter_column('payment_split', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_split', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_split', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_split', 'settled_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_split', 'delivery_partner_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_percentage',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_split', 'split_party_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_split', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_split', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_retry_attempt_payment_transaction_id'), 'payment_retry_attempt', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_payment_retry_attempt_payment_order_id'), 'payment_retry_attempt', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.drop_index(op.f('ix_payment_retry_attempt_retry_attempt_id'), table_name='payment_retry_attempt')
    op.drop_index(op.f('ix_payment_retry_attempt_payment_transaction_id'), table_name='payment_retry_attempt')
    op.drop_index(op.f('ix_payment_retry_attempt_payment_order_id'), table_name='payment_retry_attempt')
    op.drop_index(op.f('ix_payment_retry_attempt_gateway_payment_id'), table_name='payment_retry_attempt')
    op.alter_column('payment_retry_attempt', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'retry_metadata',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'failure_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'gateway_payment_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'attempt_number',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_retry_attempt', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_refund_order_id'), 'payment_refund', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_payment_refund_order_item_id'), 'payment_refund', 'order_item', ['order_item_id'], ['order_item_id'])
    op.create_foreign_key(op.f('fk_payment_refund_payment_gateway_id'), 'payment_refund', 'payment_gateway', ['payment_gateway_id'], ['payment_gateway_id'])
    op.create_foreign_key(op.f('fk_payment_refund_refund_reason_type_id'), 'payment_refund', 'refund_reason_type', ['refund_reason_type_id'], ['refund_reason_type_id'])
    op.create_foreign_key(op.f('fk_payment_refund_payment_order_id'), 'payment_refund', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.create_foreign_key(op.f('fk_payment_refund_payment_transaction_id'), 'payment_refund', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_payment_refund_refund_status_type_id'), 'payment_refund', 'refund_status_type', ['refund_status_type_id'], ['refund_status_type_id'])
    op.drop_index(op.f('ix_payment_refund_refund_status_type_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_refund_reason_type_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_payment_transaction_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_payment_refund_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_payment_order_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_payment_gateway_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_order_item_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_order_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_gateway_refund_id'), table_name='payment_refund')
    op.drop_index(op.f('ix_payment_refund_gateway_payment_id'), table_name='payment_refund')
    op.alter_column('payment_refund', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_refund', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_completed_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_processed_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_initiated_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_refund', 'gateway_response',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_refund', 'processing_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'approved_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'initiated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_status_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_reason_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_reason_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'refund_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_refund', 'payment_gateway_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'order_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_refund', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_order_payment_gateway_id'), 'payment_order', 'payment_gateway', ['payment_gateway_id'], ['payment_gateway_id'])
    op.create_foreign_key(op.f('fk_payment_order_restaurant_id'), 'payment_order', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_payment_order_order_id'), 'payment_order', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_payment_order_customer_id'), 'payment_order', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_payment_order_restaurant_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_payment_order_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_payment_link_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_payment_gateway_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_order_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_gateway_order_id'), table_name='payment_order')
    op.drop_index(op.f('ix_payment_order_customer_id'), table_name='payment_order')
    op.alter_column('payment_order', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_order', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_order', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_order', 'metadata',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_order', 'notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_short_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_link_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_order', 'order_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('payment_order', 'gateway_order_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_order', 'payment_gateway_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_order', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_order', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_order', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_payment_gateway_payment_gateway_id'), table_name='payment_gateway')
    op.alter_column('payment_gateway', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_gateway', 'payment_gateway_config',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_external_mapping_payment_transaction_id'), 'payment_external_mapping', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_payment_external_mapping_payment_order_id'), 'payment_external_mapping', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.drop_index(op.f('ix_payment_external_mapping_payment_transaction_id'), table_name='payment_external_mapping')
    op.drop_index(op.f('ix_payment_external_mapping_payment_order_id'), table_name='payment_external_mapping')
    op.drop_index(op.f('ix_payment_external_mapping_external_payment_id'), table_name='payment_external_mapping')
    op.drop_index(op.f('ix_payment_external_mapping_external_order_id'), table_name='payment_external_mapping')
    op.drop_index(op.f('ix_payment_external_mapping_external_mapping_id'), table_name='payment_external_mapping')
    op.alter_column('payment_external_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_response',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'sync_error',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'last_synced_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_order_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_payment_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'external_system',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_external_mapping', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_payment_audit_log_payment_order_id'), 'payment_audit_log', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.create_foreign_key(op.f('fk_payment_audit_log_payment_transaction_id'), 'payment_audit_log', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_payment_audit_log_payment_refund_id'), 'payment_audit_log', 'payment_refund', ['payment_refund_id'], ['payment_refund_id'])
    op.drop_index(op.f('ix_payment_audit_log_payment_transaction_id'), table_name='payment_audit_log')
    op.drop_index(op.f('ix_payment_audit_log_payment_refund_id'), table_name='payment_audit_log')
    op.drop_index(op.f('ix_payment_audit_log_payment_order_id'), table_name='payment_audit_log')
    op.drop_index(op.f('ix_payment_audit_log_gateway_event_id'), table_name='payment_audit_log')
    op.drop_index(op.f('ix_payment_audit_log_audit_log_id'), table_name='payment_audit_log')
    op.alter_column('payment_audit_log', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'error_message',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'initiated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'gateway_event_type',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'gateway_event_id',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'response_payload',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'request_payload',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'event_source',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'event_type',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'payment_refund_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('payment_audit_log', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_password_reset_user_id'), 'password_reset', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_password_reset_user_id'), table_name='password_reset')
    op.drop_index(op.f('ix_password_reset_password_reset_id'), table_name='password_reset')
    op.alter_column('password_reset', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('password_reset', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('password_reset', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_ip_address',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_used_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('password_reset', 'password_reset_expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('password_reset', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_orders_table_booking_id'), 'orders', 'table_booking_info', ['table_booking_id'], ['table_booking_id'])
    op.create_foreign_key(op.f('fk_orders_order_source_type_id'), 'orders', 'order_source_type', ['order_source_type_id'], ['order_source_type_id'])
    op.create_foreign_key(op.f('fk_orders_order_status_type_id'), 'orders', 'order_status_type', ['order_status_type_id'], ['order_status_type_id'])
    op.create_foreign_key(op.f('fk_orders_restaurant_id'), 'orders', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_orders_order_type_id'), 'orders', 'order_type_table', ['order_type_id'], ['order_type_id'])
    op.drop_index(op.f('ix_orders_table_booking_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_restaurant_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_vr_order_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_type_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_status_type_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_source_type_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_id'), table_name='orders')
    op.drop_index(op.f('ix_orders_order_external_reference_id'), table_name='orders')
    op.alter_column('orders', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('orders', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'order_status_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'order_source_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'order_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'order_number',
               existing_type=sa.String(),
               type_=sa.BIGINT(),
               existing_nullable=True)
    op.alter_column('orders', 'table_booking_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('orders', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_order_type_table_order_type_id'), table_name='order_type_table')
    op.alter_column('order_type_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_type_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_type_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_total_order_id'), 'order_total', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_total_order_total_id'), table_name='order_total')
    op.drop_index(op.f('ix_order_total_order_id'), table_name='order_total')
    op.alter_column('order_total', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_total', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_total', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_total', 'final_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'tip_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'total_before_tip',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'roundoff_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'subtotal',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'convenience_fee',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'platform_fee',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'tax_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'discount_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'charges_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'addons_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'items_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_total', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_tax_line_order_item_id'), 'order_tax_line', 'order_item', ['order_item_id'], ['order_item_id'])
    op.create_foreign_key(op.f('order_tax_line_order_tax_line_charge_id_fkey'), 'order_tax_line', 'order_charges', ['order_tax_line_charge_id'], ['order_charges_id'])
    op.drop_index(op.f('ix_order_tax_line_order_tax_line_id'), table_name='order_tax_line')
    op.drop_index(op.f('ix_order_tax_line_order_tax_line_charge_id'), table_name='order_tax_line')
    op.drop_index(op.f('ix_order_tax_line_order_item_id'), table_name='order_tax_line')
    op.alter_column('order_tax_line', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_tax_line_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_tax_line_percentage',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_tax_line', 'order_tax_line_charge_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_order_status_type_order_status_type_id'), table_name='order_status_type')
    op.alter_column('order_status_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_status_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_type', 'order_status_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_status_history_order_id'), 'order_status_history', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_status_history_order_status_type_id'), 'order_status_history', 'order_status_type', ['order_status_type_id'], ['order_status_type_id'])
    op.drop_index(op.f('ix_order_status_history_order_status_type_id'), table_name='order_status_history')
    op.drop_index(op.f('ix_order_status_history_order_status_history_id'), table_name='order_status_history')
    op.drop_index(op.f('ix_order_status_history_order_id'), table_name='order_status_history')
    op.alter_column('order_status_history', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_status_history', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_changed_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_status_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_status_history', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_order_source_type_order_source_type_id'), table_name='order_source_type')
    op.alter_column('order_source_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_source_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_source_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_security_detail_order_id'), 'order_security_detail', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_security_detail_order_security_detail_id'), table_name='order_security_detail')
    op.drop_index(op.f('ix_order_security_detail_order_id'), table_name='order_security_detail')
    op.alter_column('order_security_detail', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'callback_received_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'callback_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_security_detail', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_scheduling_order_id'), 'order_scheduling', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_scheduling_order_scheduling_id'), table_name='order_scheduling')
    op.drop_index(op.f('ix_order_scheduling_order_id'), table_name='order_scheduling')
    op.alter_column('order_scheduling', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'preorder_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'preorder_date',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.alter_column('order_scheduling', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_priority_order_id'), 'order_priority', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_priority_order_priority_id'), table_name='order_priority')
    op.drop_index(op.f('ix_order_priority_order_id'), table_name='order_priority')
    op.alter_column('order_priority', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_priority', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_priority', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_priority', 'priority_level',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_priority', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_order_payment_method_order_payment_method_id'), table_name='order_payment_method')
    op.alter_column('order_payment_method', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_payment_method', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment_method', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('order_payment_primary_transaction_id_fkey'), 'order_payment', 'payment_transaction', ['primary_transaction_id'], ['payment_transaction_id'])
    op.create_foreign_key(op.f('fk_order_payment_tax_calculation_type_id'), 'order_payment', 'tax_calculation_type', ['tax_calculation_type_id'], ['tax_calculation_type_id'])
    op.create_foreign_key(op.f('fk_order_payment_order_payment_method_id'), 'order_payment', 'order_payment_method', ['order_payment_method_id'], ['order_payment_method_id'])
    op.create_foreign_key(op.f('fk_order_payment_order_id'), 'order_payment', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_payment_payment_order_id'), 'order_payment', 'payment_order', ['payment_order_id'], ['payment_order_id'])
    op.drop_index(op.f('ix_order_payment_tax_calculation_type_id'), table_name='order_payment')
    op.drop_index(op.f('ix_order_payment_primary_transaction_id'), table_name='order_payment')
    op.drop_index(op.f('ix_order_payment_payment_order_id'), table_name='order_payment')
    op.drop_index(op.f('ix_order_payment_order_payment_method_id'), table_name='order_payment')
    op.drop_index(op.f('ix_order_payment_order_payment_id'), table_name='order_payment')
    op.drop_index(op.f('ix_order_payment_order_id'), table_name='order_payment')
    op.alter_column('order_payment', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_payment', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'loyalty_points_earned',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_payment', 'loyalty_points_used',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_payment', 'wallet_amount_used',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_payment', 'refund_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_payment', 'paid_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('order_payment', 'tax_calculation_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'order_payment_method_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'primary_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_payment', 'payment_order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_note_order_id'), 'order_note', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_note_order_note_id'), table_name='order_note')
    op.drop_index(op.f('ix_order_note_order_id'), table_name='order_note')
    op.alter_column('order_note', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_note', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_note', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_note', 'order_note_added_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_note', 'order_note_text',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_note', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_kitchen_detail_order_id'), 'order_kitchen_detail', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_kitchen_detail_order_item_id'), 'order_kitchen_detail', 'order_item', ['order_item_id'], ['order_item_id'])
    op.drop_index(op.f('ix_order_kitchen_detail_order_kitchen_id'), table_name='order_kitchen_detail')
    op.drop_index(op.f('ix_order_kitchen_detail_order_item_id'), table_name='order_kitchen_detail')
    op.drop_index(op.f('ix_order_kitchen_detail_order_id'), table_name='order_kitchen_detail')
    op.alter_column('order_kitchen_detail', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'minimum_preparation_time',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'preparation_start_time',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'actual_ready_time',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'estimated_ready_time',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'order_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_kitchen_detail', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_item_order_id'), 'order_item', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_item_menu_item_variation_id'), 'order_item', 'menu_item_variation', ['menu_item_variation_id'], ['menu_item_variation_id'])
    op.create_foreign_key(op.f('fk_order_item_menu_item_id'), 'order_item', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('fk_order_item_category_id'), 'order_item', 'feedback_categories', ['category_id'], ['category_id'])
    op.drop_index(op.f('ix_order_item_substitute_item_id'), table_name='order_item')
    op.drop_index(op.f('ix_order_item_order_item_id'), table_name='order_item')
    op.drop_index(op.f('ix_order_item_order_id'), table_name='order_item')
    op.drop_index(op.f('ix_order_item_menu_item_variation_id'), table_name='order_item')
    op.drop_index(op.f('ix_order_item_menu_item_id'), table_name='order_item')
    op.drop_index(op.f('ix_order_item_category_id'), table_name='order_item')
    op.alter_column('order_item', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_item', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'cancellation_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_item', 'cancelled_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_item', 'served_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_item', 'prepared_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_item', 'customizations',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('order_item', 'cooking_instructions',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_item', 'substitute_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'unavailable_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_item', 'addon_total',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_item', 'tax_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_item', 'discount_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_item', 'base_price',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_item', 'category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'menu_item_variation_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_item', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_invoice_order_id'), 'order_invoice', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_invoice_order_invoice_id'), table_name='order_invoice')
    op.drop_index(op.f('ix_order_invoice_order_id'), table_name='order_invoice')
    op.alter_column('order_invoice', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_invoice', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'invoice_generated_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_invoice', 'invoice_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_invoice', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_integration_sync_order_id'), 'order_integration_sync', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_integration_sync_order_integration_sync_id'), table_name='order_integration_sync')
    op.drop_index(op.f('ix_order_integration_sync_order_id'), table_name='order_integration_sync')
    op.alter_column('order_integration_sync', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'last_synced_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'sync_errors',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_integration_sync', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_instruction_order_id'), 'order_instruction', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_instruction_order_instruction_id'), table_name='order_instruction')
    op.drop_index(op.f('ix_order_instruction_order_id'), table_name='order_instruction')
    op.alter_column('order_instruction', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_instruction', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'dietary_preferences',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'allergen_warning',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'delivery_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'kitchen_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'special_instructions',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_instruction', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_discount_order_discount_type_id'), 'order_discount', 'discount_type', ['order_discount_type_id'], ['discount_type_id'])
    op.create_foreign_key(op.f('fk_order_discount_order_id'), 'order_discount', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_discount_order_item_id'), 'order_discount', 'order_item', ['order_item_id'], ['order_item_id'])
    op.drop_index(op.f('ix_order_discount_order_item_id'), table_name='order_discount')
    op.drop_index(op.f('ix_order_discount_order_id'), table_name='order_discount')
    op.drop_index(op.f('ix_order_discount_order_discount_type_id'), table_name='order_discount')
    op.drop_index(op.f('ix_order_discount_order_discount_id'), table_name='order_discount')
    op.alter_column('order_discount', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_discount', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_discount', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_discount_percentage',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=5, scale=2),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_discount_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_discount', 'order_discount_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_dining_info_table_id'), 'order_dining_info', 'table_info', ['table_id'], ['table_id'])
    op.create_foreign_key(op.f('fk_order_dining_info_order_id'), 'order_dining_info', 'orders', ['order_id'], ['order_id'])
    op.drop_index(op.f('ix_order_dining_info_table_id'), table_name='order_dining_info')
    op.drop_index(op.f('ix_order_dining_info_order_id'), table_name='order_dining_info')
    op.drop_index(op.f('ix_order_dining_info_order_dining_id'), table_name='order_dining_info')
    op.alter_column('order_dining_info', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'no_of_persons',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'table_no',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'table_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_dining_info', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_delivery_info_order_id'), 'order_delivery_info', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_delivery_info_delivery_address_id'), 'order_delivery_info', 'customer_address_table', ['delivery_address_id'], ['customer_address_id'])
    op.drop_index(op.f('ix_order_delivery_info_order_id'), table_name='order_delivery_info')
    op.drop_index(op.f('ix_order_delivery_info_order_delivery_id'), table_name='order_delivery_info')
    op.drop_index(op.f('ix_order_delivery_info_delivery_person_id'), table_name='order_delivery_info')
    op.drop_index(op.f('ix_order_delivery_info_delivery_partner_id'), table_name='order_delivery_info')
    op.drop_index(op.f('ix_order_delivery_info_delivery_address_id'), table_name='order_delivery_info')
    op.alter_column('order_delivery_info', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_proof_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_tracking_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_completed_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_started_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_person_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_actual_time',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_estimated_time',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_distance_km',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_address_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_slot',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'delivery_partner_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_delivery_info', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_customer_details_restaurant_id'), 'order_customer_details', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_order_customer_details_order_id'), 'order_customer_details', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_customer_details_customer_id'), 'order_customer_details', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_order_customer_details_restaurant_id'), table_name='order_customer_details')
    op.drop_index(op.f('ix_order_customer_details_order_id'), table_name='order_customer_details')
    op.drop_index(op.f('ix_order_customer_details_order_customer_details_id'), table_name='order_customer_details')
    op.drop_index(op.f('ix_order_customer_details_customer_id'), table_name='order_customer_details')
    op.alter_column('order_customer_details', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_customer_details', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_charges_order_id'), 'order_charges', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_charges_order_item_id'), 'order_charges', 'order_item', ['order_item_id'], ['order_item_id'])
    op.drop_index(op.f('ix_order_charges_order_item_id'), table_name='order_charges')
    op.drop_index(op.f('ix_order_charges_order_id'), table_name='order_charges')
    op.drop_index(op.f('ix_order_charges_order_charges_id'), table_name='order_charges')
    op.alter_column('order_charges', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_charges', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_charges', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_metadata_json',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_taxable_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_charges_base_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_charges', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_order_audit_order_id'), 'order_audit', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_order_audit_session_id'), 'order_audit', 'customer_sessions', ['session_id'], ['session_id'])
    op.drop_index(op.f('ix_order_audit_session_id'), table_name='order_audit')
    op.drop_index(op.f('ix_order_audit_order_id'), table_name='order_audit')
    op.drop_index(op.f('ix_order_audit_order_audit_id'), table_name='order_audit')
    op.alter_column('order_audit', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('order_audit', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_audit', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_audit', 'modification_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('order_audit', 'modified_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_audit', 'order_version',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('order_audit', 'session_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('order_audit', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_version_history_restaurant_id'), 'menu_version_history', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_version_history_restaurant_id'), table_name='menu_version_history')
    op.drop_index(op.f('ix_menu_version_history_menu_version_id'), table_name='menu_version_history')
    op.alter_column('menu_version_history', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_snapshot_data',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_change_summary',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_changed_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'menu_version_number',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_version_history', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_sync_log_restaurant_id'), 'menu_sync_log', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_sync_log_restaurant_id'), table_name='menu_sync_log')
    op.drop_index(op.f('ix_menu_sync_log_menu_sync_log_id'), table_name='menu_sync_log')
    op.alter_column('menu_sync_log', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_errors',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_items_synced',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_completed_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_started_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'menu_sync_source',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sync_log', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_sub_categories_restaurant_id'), 'menu_sub_categories', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_menu_sub_categories_category_id'), 'menu_sub_categories', 'feedback_categories', ['category_id'], ['category_id'])
    op.drop_index(op.f('ix_menu_sub_categories_restaurant_id'), table_name='menu_sub_categories')
    op.drop_index(op.f('ix_menu_sub_categories_menu_sub_category_id'), table_name='menu_sub_categories')
    op.drop_index(op.f('ix_menu_sub_categories_category_id'), table_name='menu_sub_categories')
    op.alter_column('menu_sub_categories', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_image_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_timings',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'sub_category_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sub_categories', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_sections_restaurant_id'), 'menu_sections', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_sections_restaurant_id'), table_name='menu_sections')
    op.drop_index(op.f('ix_menu_sections_menu_section_id'), table_name='menu_sections')
    op.alter_column('menu_sections', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_sections', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_image_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'menu_section_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_sections', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_variation_mapping_menu_item_id'), 'menu_item_variation_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('menu_item_variation_mapping_menu_item_variation_group_id_fkey'), 'menu_item_variation_mapping', 'variation_groups', ['menu_item_variation_group_id'], ['variation_group_id'])
    op.drop_index(op.f('ix_menu_item_variation_mapping_menu_item_variation_mapping_id'), table_name='menu_item_variation_mapping')
    op.drop_index(op.f('ix_menu_item_variation_mapping_menu_item_variation_group_id'), table_name='menu_item_variation_mapping')
    op.drop_index(op.f('ix_menu_item_variation_mapping_menu_item_id'), table_name='menu_item_variation_mapping')
    op.alter_column('menu_item_variation_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'menu_item_variation_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'menu_item_variation_group_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_variation_menu_item_id'), 'menu_item_variation', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('fk_menu_item_variation_variation_group_id'), 'menu_item_variation', 'variation_groups', ['variation_group_id'], ['variation_group_id'])
    op.create_foreign_key(op.f('fk_menu_item_variation_restaurant_id'), 'menu_item_variation', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_item_variation_variation_group_id'), table_name='menu_item_variation')
    op.drop_index(op.f('ix_menu_item_variation_restaurant_id'), table_name='menu_item_variation')
    op.drop_index(op.f('ix_menu_item_variation_menu_item_variation_id'), table_name='menu_item_variation')
    op.drop_index(op.f('ix_menu_item_variation_menu_item_id'), table_name='menu_item_variation')
    op.alter_column('menu_item_variation', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_packaging_charges',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_markup_price',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_variation_price',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'variation_group_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_variation', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_tax_mapping_tax_id'), 'menu_item_tax_mapping', 'taxes', ['tax_id'], ['tax_id'])
    op.create_foreign_key(op.f('fk_menu_item_tax_mapping_restaurant_id'), 'menu_item_tax_mapping', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_menu_item_tax_mapping_menu_item_id'), 'menu_item_tax_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_menu_item_tax_mapping_tax_id'), table_name='menu_item_tax_mapping')
    op.drop_index(op.f('ix_menu_item_tax_mapping_restaurant_id'), table_name='menu_item_tax_mapping')
    op.drop_index(op.f('ix_menu_item_tax_mapping_menu_item_tax_mapping_id'), table_name='menu_item_tax_mapping')
    op.drop_index(op.f('ix_menu_item_tax_mapping_menu_item_id'), table_name='menu_item_tax_mapping')
    op.alter_column('menu_item_tax_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'gst_liability',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'tax_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tax_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_tag_mapping_menu_item_id'), 'menu_item_tag_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('fk_menu_item_tag_mapping_menu_item_tag_id'), 'menu_item_tag_mapping', 'menu_item_tag', ['menu_item_tag_id'], ['menu_item_tag_id'])
    op.drop_index(op.f('ix_menu_item_tag_mapping_menu_item_tag_mapping_id'), table_name='menu_item_tag_mapping')
    op.drop_index(op.f('ix_menu_item_tag_mapping_menu_item_tag_id'), table_name='menu_item_tag_mapping')
    op.drop_index(op.f('ix_menu_item_tag_mapping_menu_item_id'), table_name='menu_item_tag_mapping')
    op.alter_column('menu_item_tag_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'menu_item_tag_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tag_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_menu_item_tag_menu_item_tag_id'), table_name='menu_item_tag')
    op.alter_column('menu_item_tag', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_tag', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_tag', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('menu_item_ordertype_mapping_menu_item_ordertype_id_fkey'), 'menu_item_ordertype_mapping', 'order_type_table', ['menu_item_ordertype_id'], ['order_type_id'])
    op.create_foreign_key(op.f('fk_menu_item_ordertype_mapping_menu_item_id'), 'menu_item_ordertype_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('fk_menu_item_ordertype_mapping_restaurant_id'), 'menu_item_ordertype_mapping', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_item_ordertype_mapping_restaurant_id'), table_name='menu_item_ordertype_mapping')
    op.drop_index(op.f('ix_menu_item_ordertype_mapping_menu_item_ordertype_mapping_id'), table_name='menu_item_ordertype_mapping')
    op.drop_index(op.f('ix_menu_item_ordertype_mapping_menu_item_ordertype_id'), table_name='menu_item_ordertype_mapping')
    op.drop_index(op.f('ix_menu_item_ordertype_mapping_menu_item_id'), table_name='menu_item_ordertype_mapping')
    op.alter_column('menu_item_ordertype_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'menu_item_ordertype_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_ordertype_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_option_menu_item_id'), 'menu_item_option', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_menu_item_option_menu_item_option_id'), table_name='menu_item_option')
    op.drop_index(op.f('ix_menu_item_option_menu_item_id'), table_name='menu_item_option')
    op.alter_column('menu_item_option', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'menu_item_option_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_item_option', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_discount_mapping_restaurant_id'), 'menu_item_discount_mapping', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_menu_item_discount_mapping_discount_id'), 'menu_item_discount_mapping', 'discount', ['discount_id'], ['discount_id'])
    op.create_foreign_key(op.f('fk_menu_item_discount_mapping_menu_item_id'), 'menu_item_discount_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_menu_item_discount_mapping_restaurant_id'), table_name='menu_item_discount_mapping')
    op.drop_index(op.f('ix_menu_item_discount_mapping_menu_item_id'), table_name='menu_item_discount_mapping')
    op.drop_index(op.f('ix_menu_item_discount_mapping_menu_item_discount_mapping_id'), table_name='menu_item_discount_mapping')
    op.drop_index(op.f('ix_menu_item_discount_mapping_discount_id'), table_name='menu_item_discount_mapping')
    op.alter_column('menu_item_discount_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'discount_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_discount_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_cuisine_mapping_cuisine_id'), 'menu_item_cuisine_mapping', 'cuisines', ['cuisine_id'], ['cuisine_id'])
    op.create_foreign_key(op.f('fk_menu_item_cuisine_mapping_menu_item_id'), 'menu_item_cuisine_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_menu_item_cuisine_mapping_menu_item_id'), table_name='menu_item_cuisine_mapping')
    op.drop_index(op.f('ix_menu_item_cuisine_mapping_menu_item_cuisine_mapping_id'), table_name='menu_item_cuisine_mapping')
    op.drop_index(op.f('ix_menu_item_cuisine_mapping_cuisine_id'), table_name='menu_item_cuisine_mapping')
    op.alter_column('menu_item_cuisine_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'cuisine_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_cuisine_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_availability_schedule_menu_item_id'), 'menu_item_availability_schedule', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_menu_item_availability_schedule_schedule_id'), table_name='menu_item_availability_schedule')
    op.drop_index(op.f('ix_menu_item_availability_schedule_menu_item_id'), table_name='menu_item_availability_schedule')
    op.alter_column('menu_item_availability_schedule', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'time_to',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'time_from',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('menu_item_availability_schedule', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_menu_item_attribute_menu_item_attribute_id'), table_name='menu_item_attribute')
    op.alter_column('menu_item_attribute', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_attribute', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_attribute', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_addon_mapping_menu_item_addon_group_id'), 'menu_item_addon_mapping', 'menu_item_addon_group', ['menu_item_addon_group_id'], ['menu_item_addon_group_id'])
    op.create_foreign_key(op.f('fk_menu_item_addon_mapping_restaurant_id'), 'menu_item_addon_mapping', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_menu_item_addon_mapping_menu_item_id'), 'menu_item_addon_mapping', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.create_foreign_key(op.f('fk_menu_item_addon_mapping_menu_item_variation_id'), 'menu_item_addon_mapping', 'menu_item_variation', ['menu_item_variation_id'], ['menu_item_variation_id'])
    op.drop_index(op.f('ix_menu_item_addon_mapping_restaurant_id'), table_name='menu_item_addon_mapping')
    op.drop_index(op.f('ix_menu_item_addon_mapping_menu_item_variation_id'), table_name='menu_item_addon_mapping')
    op.drop_index(op.f('ix_menu_item_addon_mapping_menu_item_id'), table_name='menu_item_addon_mapping')
    op.drop_index(op.f('ix_menu_item_addon_mapping_menu_item_addon_mapping_id'), table_name='menu_item_addon_mapping')
    op.drop_index(op.f('ix_menu_item_addon_mapping_menu_item_addon_group_id'), table_name='menu_item_addon_mapping')
    op.alter_column('menu_item_addon_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'menu_item_addon_group_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'menu_item_variation_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_mapping', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_addon_item_menu_item_addon_group_id'), 'menu_item_addon_item', 'menu_item_addon_group', ['menu_item_addon_group_id'], ['menu_item_addon_group_id'])
    op.create_foreign_key(op.f('fk_menu_item_addon_item_restaurant_id'), 'menu_item_addon_item', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_item_addon_item_restaurant_id'), table_name='menu_item_addon_item')
    op.drop_index(op.f('ix_menu_item_addon_item_menu_item_addon_item_attribute_id'), table_name='menu_item_addon_item')
    op.drop_index(op.f('ix_menu_item_addon_item_menu_item_addon_id'), table_name='menu_item_addon_item')
    op.drop_index(op.f('ix_menu_item_addon_item_menu_item_addon_group_id'), table_name='menu_item_addon_item')
    op.alter_column('menu_item_addon_item', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_attribute_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_item_price',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_item', 'menu_item_addon_group_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_addon_group_restaurant_id'), 'menu_item_addon_group', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_item_addon_group_restaurant_id'), table_name='menu_item_addon_group')
    op.drop_index(op.f('ix_menu_item_addon_group_menu_item_addon_group_id'), table_name='menu_item_addon_group')
    op.alter_column('menu_item_addon_group', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_selection_max',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_selection_min',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'menu_item_addon_group_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item_addon_group', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_item_menu_item_attribute_id'), 'menu_item', 'menu_item_attribute', ['menu_item_attribute_id'], ['menu_item_attribute_id'])
    op.create_foreign_key(op.f('fk_menu_item_menu_sub_category_id'), 'menu_item', 'menu_sub_categories', ['menu_sub_category_id'], ['menu_sub_category_id'])
    op.create_foreign_key(op.f('fk_menu_item_restaurant_id'), 'menu_item', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_menu_item_restaurant_id'), table_name='menu_item')
    op.drop_index(op.f('ix_menu_item_menu_sub_category_id'), table_name='menu_item')
    op.drop_index(op.f('ix_menu_item_menu_item_tax_id'), table_name='menu_item')
    op.drop_index(op.f('ix_menu_item_menu_item_id'), table_name='menu_item')
    op.drop_index(op.f('ix_menu_item_menu_item_attribute_id'), table_name='menu_item')
    op.alter_column('menu_item', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_item', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_markup_price',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=12, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_addon_based_on',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_attribute_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_timings',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_sgst',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=8, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_cgst',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=8, scale=2),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_tax_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_minimum_preparation_time',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_item_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_item', 'menu_sub_category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_item', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_menu_categories_restaurant_id'), 'menu_categories', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_menu_categories_menu_section_id'), 'menu_categories', 'menu_sections', ['menu_section_id'], ['menu_section_id'])
    op.drop_index(op.f('ix_menu_categories_restaurant_id'), table_name='menu_categories')
    op.drop_index(op.f('ix_menu_categories_menu_section_id'), table_name='menu_categories')
    op.drop_index(op.f('ix_menu_categories_menu_parent_category_id'), table_name='menu_categories')
    op.drop_index(op.f('ix_menu_categories_menu_category_id'), table_name='menu_categories')
    op.alter_column('menu_categories', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('menu_categories', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_parent_category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_image_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_timings',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_category_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'menu_section_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('menu_categories', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_meal_type_meal_type_id'), table_name='meal_type')
    op.alter_column('meal_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('meal_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('meal_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('meal_type', 'display_order',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_meal_slot_timing_slot_config_id'), 'meal_slot_timing', 'entity_slot_config', ['slot_config_id'], ['slot_config_id'])
    op.create_foreign_key(op.f('fk_meal_slot_timing_meal_type_id'), 'meal_slot_timing', 'meal_type', ['meal_type_id'], ['meal_type_id'])
    op.drop_index(op.f('ix_meal_slot_timing_slot_config_id'), table_name='meal_slot_timing')
    op.drop_index(op.f('ix_meal_slot_timing_meal_type_id'), table_name='meal_slot_timing')
    op.drop_index(op.f('ix_meal_slot_timing_meal_slot_timing_id'), table_name='meal_slot_timing')
    op.alter_column('meal_slot_timing', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'closing_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'opening_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'meal_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('meal_slot_timing', 'slot_config_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_loyalty_transaction_customer_id'), 'loyalty_transaction', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('fk_loyalty_transaction_order_id'), 'loyalty_transaction', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_loyalty_transaction_payment_transaction_id'), 'loyalty_transaction', 'payment_transaction', ['payment_transaction_id'], ['payment_transaction_id'])
    op.drop_index(op.f('ix_loyalty_transaction_payment_transaction_id'), table_name='loyalty_transaction')
    op.drop_index(op.f('ix_loyalty_transaction_order_id'), table_name='loyalty_transaction')
    op.drop_index(op.f('ix_loyalty_transaction_loyalty_txn_id'), table_name='loyalty_transaction')
    op.drop_index(op.f('ix_loyalty_transaction_customer_id'), table_name='loyalty_transaction')
    op.alter_column('loyalty_transaction', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'payment_transaction_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('loyalty_transaction', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_login_attempt_user_id'), 'login_attempt', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_login_attempt_user_id'), table_name='login_attempt')
    op.drop_index(op.f('ix_login_attempt_login_attempt_id'), table_name='login_attempt')
    op.alter_column('login_attempt', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('login_attempt', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'login_attempt_failure_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('login_attempt', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_languages_language_id'), table_name='languages')
    op.alter_column('languages', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('languages', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('languages', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_integration_provider_table_provider_id'), table_name='integration_provider_table')
    op.alter_column('integration_provider_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'provider_base_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('integration_provider_table', 'provider_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_integration_metadata_table_integration_config_id'), 'integration_metadata_table', 'integration_config_table', ['integration_config_id'], ['integration_config_id'])
    op.drop_index(op.f('ix_integration_metadata_table_metadata_id'), table_name='integration_metadata_table')
    op.drop_index(op.f('ix_integration_metadata_table_integration_config_id'), table_name='integration_metadata_table')
    op.alter_column('integration_metadata_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'metadata_value',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('integration_metadata_table', 'integration_config_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_integration_credentials_table_integration_config_id'), 'integration_credentials_table', 'integration_config_table', ['integration_config_id'], ['integration_config_id'])
    op.drop_index(op.f('ix_integration_credentials_table_integration_config_id'), table_name='integration_credentials_table')
    op.drop_index(op.f('ix_integration_credentials_table_credential_id'), table_name='integration_credentials_table')
    op.alter_column('integration_credentials_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'credential_value',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('integration_credentials_table', 'integration_config_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_integration_config_table_provider_id'), 'integration_config_table', 'integration_provider_table', ['provider_id'], ['provider_id'])
    op.create_foreign_key(op.f('fk_integration_config_table_chain_id'), 'integration_config_table', 'chain_info_table', ['chain_id'], ['chain_id'])
    op.create_foreign_key(op.f('fk_integration_config_table_branch_id'), 'integration_config_table', 'branch_info_table', ['branch_id'], ['branch_id'])
    op.drop_index(op.f('ix_integration_config_table_provider_id'), table_name='integration_config_table')
    op.drop_index(op.f('ix_integration_config_table_integration_config_id'), table_name='integration_config_table')
    op.drop_index(op.f('ix_integration_config_table_chain_id'), table_name='integration_config_table')
    op.drop_index(op.f('ix_integration_config_table_branch_id'), table_name='integration_config_table')
    op.alter_column('integration_config_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'api_key',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'provider_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'branch_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('integration_config_table', 'chain_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_feedback_types_type_id'), table_name='feedback_types')
    op.create_index(op.f('feedback_types_type_name_key'), 'feedback_types', ['type_name'], unique=True)
    op.alter_column('feedback_types', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_types', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'icon',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback_types', 'description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_tags_tag_id'), 'feedback_tags', 'tags_feedback', ['tag_id'], ['tag_id'])
    op.drop_index(op.f('ix_feedback_tags_tag_id'), table_name='feedback_tags')
    op.drop_index(op.f('ix_feedback_tags_feedback_id'), table_name='feedback_tags')
    op.alter_column('feedback_tags', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_tags', 'added_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_feedback_statuses_status_id'), table_name='feedback_statuses')
    op.create_index(op.f('statuses_status_name_key'), 'feedback_statuses', ['status_name'], unique=True)
    op.alter_column('feedback_statuses', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_statuses', 'description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_status_history_feedback_id'), 'feedback_status_history', 'feedback', ['feedback_id'], ['feedback_id'])
    op.create_foreign_key(op.f('feedback_status_history_new_status_id_fkey'), 'feedback_status_history', 'feedback_statuses', ['new_status_id'], ['status_id'])
    op.create_foreign_key(op.f('feedback_status_history_old_status_id_fkey'), 'feedback_status_history', 'feedback_statuses', ['old_status_id'], ['status_id'])
    op.drop_index(op.f('ix_feedback_status_history_old_status_id'), table_name='feedback_status_history')
    op.drop_index(op.f('ix_feedback_status_history_new_status_id'), table_name='feedback_status_history')
    op.drop_index(op.f('ix_feedback_status_history_history_id'), table_name='feedback_status_history')
    op.drop_index(op.f('ix_feedback_status_history_feedback_id'), table_name='feedback_status_history')
    op.alter_column('feedback_status_history', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'change_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'changed_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'new_status_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'old_status_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_status_history', 'feedback_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_responses_feedback_id'), 'feedback_responses', 'feedback', ['feedback_id'], ['feedback_id'])
    op.drop_index(op.f('ix_feedback_responses_response_id'), table_name='feedback_responses')
    op.drop_index(op.f('ix_feedback_responses_feedback_id'), table_name='feedback_responses')
    op.alter_column('feedback_responses', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'edited_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'responded_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_responses', 'feedback_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('feedback_priority_history_old_priority_id_fkey'), 'feedback_priority_history', 'feedback_priorities', ['old_priority_id'], ['priority_id'])
    op.create_foreign_key(op.f('feedback_priority_history_new_priority_id_fkey'), 'feedback_priority_history', 'feedback_priorities', ['new_priority_id'], ['priority_id'])
    op.create_foreign_key(op.f('fk_feedback_priority_history_feedback_id'), 'feedback_priority_history', 'feedback', ['feedback_id'], ['feedback_id'])
    op.drop_index(op.f('ix_feedback_priority_history_old_priority_id'), table_name='feedback_priority_history')
    op.drop_index(op.f('ix_feedback_priority_history_new_priority_id'), table_name='feedback_priority_history')
    op.drop_index(op.f('ix_feedback_priority_history_history_id'), table_name='feedback_priority_history')
    op.drop_index(op.f('ix_feedback_priority_history_feedback_id'), table_name='feedback_priority_history')
    op.alter_column('feedback_priority_history', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'change_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'changed_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'new_priority_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'old_priority_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priority_history', 'feedback_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_feedback_priorities_priority_id'), table_name='feedback_priorities')
    op.create_index(op.f('priorities_priority_name_key'), 'feedback_priorities', ['priority_name'], unique=True)
    op.alter_column('feedback_priorities', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'response_sla_hours',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('feedback_priorities', 'priority_level',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.drop_index(op.f('ix_feedback_platforms_platform_id'), table_name='feedback_platforms')
    op.create_index(op.f('platforms_platform_name_key'), 'feedback_platforms', ['platform_name'], unique=True)
    op.alter_column('feedback_platforms', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_platforms', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_platforms', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_notifications_feedback_id'), 'feedback_notifications', 'feedback', ['feedback_id'], ['feedback_id'])
    op.drop_index(op.f('ix_feedback_notifications_notification_id'), table_name='feedback_notifications')
    op.drop_index(op.f('ix_feedback_notifications_feedback_id'), table_name='feedback_notifications')
    op.alter_column('feedback_notifications', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'clicked_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'opened_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'subject',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback_notifications', 'feedback_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('feedback_categories_parent_category_id_fkey'), 'feedback_categories', 'feedback_categories', ['parent_category_id'], ['category_id'])
    op.drop_index(op.f('ix_feedback_categories_parent_category_id'), table_name='feedback_categories')
    op.drop_index(op.f('ix_feedback_categories_category_id'), table_name='feedback_categories')
    op.create_index(op.f('feedback_categories_category_name_key'), 'feedback_categories', ['category_name'], unique=True)
    op.alter_column('feedback_categories', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'parent_category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'icon',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback_categories', 'description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_attachments_feedback_id'), 'feedback_attachments', 'feedback', ['feedback_id'], ['feedback_id'])
    op.drop_index(op.f('ix_feedback_attachments_feedback_id'), table_name='feedback_attachments')
    op.drop_index(op.f('ix_feedback_attachments_attachment_id'), table_name='feedback_attachments')
    op.alter_column('feedback_attachments', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'uploaded_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'file_size',
               existing_type=sa.String(),
               type_=sa.BIGINT(),
               existing_nullable=True)
    op.alter_column('feedback_attachments', 'feedback_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_feedback_feedback_type_id'), 'feedback', 'feedback_types', ['feedback_type_id'], ['type_id'])
    op.create_foreign_key(op.f('fk_feedback_status_id'), 'feedback', 'feedback_statuses', ['status_id'], ['status_id'])
    op.create_foreign_key(op.f('fk_feedback_platform_id'), 'feedback', 'feedback_platforms', ['platform_id'], ['platform_id'])
    op.create_foreign_key(op.f('fk_feedback_customer_id'), 'feedback', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('fk_feedback_order_id'), 'feedback', 'orders', ['order_id'], ['order_id'])
    op.create_foreign_key(op.f('fk_feedback_priority_id'), 'feedback', 'feedback_priorities', ['priority_id'], ['priority_id'])
    op.create_foreign_key(op.f('fk_feedback_category_id'), 'feedback', 'feedback_categories', ['category_id'], ['category_id'])
    op.drop_index(op.f('ix_feedback_status_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_service_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_product_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_priority_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_platform_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_order_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_feedback_type_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_feedback_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_customer_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_category_id'), table_name='feedback')
    op.drop_index(op.f('ix_feedback_booking_id'), table_name='feedback')
    op.alter_column('feedback', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'resolved_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback', 'page_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback', 'platform_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'assigned_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('feedback', 'assigned_to',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'status_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'priority_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'sentiment',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('feedback', 'feedback_type_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'category_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'rating',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('feedback', 'service_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'product_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'booking_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'order_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('feedback', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_entity_slot_config_restaurant_id'), 'entity_slot_config', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_entity_slot_config_slot_config_id'), table_name='entity_slot_config')
    op.drop_index(op.f('ix_entity_slot_config_restaurant_id'), table_name='entity_slot_config')
    op.alter_column('entity_slot_config', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_frequency',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_duration',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'slot_capacity',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('entity_slot_config', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_email_verification_user_id'), 'email_verification', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_email_verification_user_id'), table_name='email_verification')
    op.drop_index(op.f('ix_email_verification_email_verification_id'), table_name='email_verification')
    op.alter_column('email_verification', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('email_verification', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('email_verification', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('email_verification', 'email_verification_verified_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('email_verification', 'email_verification_expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('email_verification', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_discount_type_discount_type_id'), table_name='discount_type')
    op.alter_column('discount_type', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('discount_type', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('discount_type', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_discount_schedule_discount_id'), 'discount_schedule', 'discount', ['discount_id'], ['discount_id'])
    op.drop_index(op.f('ix_discount_schedule_discount_schedule_id'), table_name='discount_schedule')
    op.drop_index(op.f('ix_discount_schedule_discount_id'), table_name='discount_schedule')
    op.alter_column('discount_schedule', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_end_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_start_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_schedule_day_of_week',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('discount_schedule', 'discount_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_discount_restaurant_id'), 'discount', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_discount_restaurant_id'), table_name='discount')
    op.drop_index(op.f('ix_discount_discount_id'), table_name='discount')
    op.alter_column('discount', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('discount', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('discount', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_max_limit',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_max_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('discount', 'discount_min_amount',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('discount', 'discount_time_to',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_time_from',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_starts_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('discount', 'discount_rank',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_days',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_applicable_on',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('discount', 'discount_value',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=2),
               existing_nullable=True)
    op.alter_column('discount', 'discount_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('discount', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_dietary_types_dietary_type_id'), table_name='dietary_types')
    op.alter_column('dietary_types', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('dietary_types', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('dietary_types', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('dietary_types', 'dietary_type_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.drop_index(op.f('ix_dietary_restrictions_dietary_restriction_id'), table_name='dietary_restrictions')
    op.alter_column('dietary_restrictions', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('dietary_restrictions', 'dietary_restriction_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('department_parent_department_id_fkey'), 'department', 'department', ['parent_department_id'], ['department_id'])
    op.create_foreign_key(op.f('fk_department_restaurant_id'), 'department', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('department_department_manager_id_fkey'), 'department', 'user', ['department_manager_id'], ['user_id'])
    op.drop_index(op.f('ix_department_restaurant_id'), table_name='department')
    op.drop_index(op.f('ix_department_parent_department_id'), table_name='department')
    op.drop_index(op.f('ix_department_department_manager_id'), table_name='department')
    op.drop_index(op.f('ix_department_department_id'), table_name='department')
    op.alter_column('department', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('department', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('department', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('department', 'department_manager_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('department', 'parent_department_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('department', 'department_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('department', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_customer_tags_tag_id'), table_name='customer_tags')
    op.alter_column('customer_tags', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_tags', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_tags', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_tag_mapping_tag_id'), 'customer_tag_mapping', 'customer_tags', ['tag_id'], ['tag_id'])
    op.create_foreign_key(op.f('fk_customer_tag_mapping_customer_id'), 'customer_tag_mapping', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_tag_mapping_tag_id'), table_name='customer_tag_mapping')
    op.drop_index(op.f('ix_customer_tag_mapping_customer_id'), table_name='customer_tag_mapping')
    op.alter_column('customer_tag_mapping', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_tag_mapping', 'tagged_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_customer_table_customer_id'), table_name='customer_table')
    op.alter_column('customer_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_sessions_customer_id'), 'customer_sessions', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_sessions_session_id'), table_name='customer_sessions')
    op.drop_index(op.f('ix_customer_sessions_customer_id'), table_name='customer_sessions')
    op.alter_column('customer_sessions', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'expires_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'session_token',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_sessions', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_search_queries_customer_id'), 'customer_search_queries', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_search_queries_query_id'), table_name='customer_search_queries')
    op.drop_index(op.f('ix_customer_search_queries_customer_id'), table_name='customer_search_queries')
    op.drop_index(op.f('ix_customer_search_queries_conversation_id'), table_name='customer_search_queries')
    op.alter_column('customer_search_queries', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'search_query',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'conversation_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_search_queries', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_profile_table_language_id'), 'customer_profile_table', 'languages', ['language_id'], ['language_id'])
    op.create_foreign_key(op.f('fk_customer_profile_table_customer_gender_id'), 'customer_profile_table', 'customer_gender', ['customer_gender_id'], ['customer_gender_id'])
    op.drop_index(op.f('ix_customer_profile_table_language_id'), table_name='customer_profile_table')
    op.drop_index(op.f('ix_customer_profile_table_customer_id'), table_name='customer_profile_table')
    op.drop_index(op.f('ix_customer_profile_table_customer_gender_id'), table_name='customer_profile_table')
    op.alter_column('customer_profile_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'language_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'customer_gender_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_profile_table', 'customer_date_of_birth',
               existing_type=sa.String(),
               type_=sa.DATE(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_preferences_customer_id'), 'customer_preferences', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_preferences_customer_preference_id'), table_name='customer_preferences')
    op.drop_index(op.f('ix_customer_preferences_customer_id'), table_name='customer_preferences')
    op.alter_column('customer_preferences', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_preferences', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_customer_gender_customer_gender_id'), table_name='customer_gender')
    op.alter_column('customer_gender', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_gender', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_gender', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('customer_favorite_items_customer_id_fkey'), 'customer_favorite_items', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('fk_customer_favorite_items_menu_item_id'), 'customer_favorite_items', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_customer_favorite_items_menu_item_id'), table_name='customer_favorite_items')
    op.drop_index(op.f('ix_customer_favorite_items_favorite_id'), table_name='customer_favorite_items')
    op.drop_index(op.f('ix_customer_favorite_items_customer_id'), table_name='customer_favorite_items')
    op.alter_column('customer_favorite_items', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_favorite_items', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_dietary_restrictions_customer_id'), 'customer_dietary_restrictions', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('fk_customer_dietary_restrictions_dietary_restriction_id'), 'customer_dietary_restrictions', 'dietary_restrictions', ['dietary_restriction_id'], ['dietary_restriction_id'])
    op.drop_index(op.f('ix_customer_dietary_restrictions_dietary_restriction_id'), table_name='customer_dietary_restrictions')
    op.drop_index(op.f('ix_customer_dietary_restrictions_customer_id'), table_name='customer_dietary_restrictions')
    op.alter_column('customer_dietary_restrictions', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_dietary_restrictions', 'customer_dietary_restriction_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('customer_devices_customer_id_fkey'), 'customer_devices', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_devices_device_id'), table_name='customer_devices')
    op.drop_index(op.f('ix_customer_devices_customer_id'), table_name='customer_devices')
    op.alter_column('customer_devices', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_devices', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_devices', 'last_seen',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_devices', 'first_seen',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_devices', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('customer_contact_table_customer_id_fkey'), 'customer_contact_table', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_contact_table_customer_id'), table_name='customer_contact_table')
    op.drop_index(op.f('ix_customer_contact_table_contact_id'), table_name='customer_contact_table')
    op.alter_column('customer_contact_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_contact_table', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_consent_customer_id'), 'customer_consent', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_consent_customer_id'), table_name='customer_consent')
    op.drop_index(op.f('ix_customer_consent_consent_id'), table_name='customer_consent')
    op.alter_column('customer_consent', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_consent', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_consent', 'consent_withdrawn_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_consent', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_authentication_customer_id'), 'customer_authentication', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_authentication_customer_id'), table_name='customer_authentication')
    op.drop_index(op.f('ix_customer_authentication_auth_id'), table_name='customer_authentication')
    op.alter_column('customer_authentication', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'locked_until',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'last_login',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'password_hash',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_authentication', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_customer_allergens_customer_id'), 'customer_allergens', 'customer_table', ['customer_id'], ['customer_id'])
    op.create_foreign_key(op.f('customer_allergens_allergen_id_fkey'), 'customer_allergens', 'allergens', ['allergen_id'], ['allergen_id'])
    op.drop_index(op.f('ix_customer_allergens_customer_id'), table_name='customer_allergens')
    op.drop_index(op.f('ix_customer_allergens_allergen_id'), table_name='customer_allergens')
    op.alter_column('customer_allergens', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_allergens', 'customer_allergen_notes',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('customer_address_table_customer_id_fkey'), 'customer_address_table', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_address_table_customer_id'), table_name='customer_address_table')
    op.drop_index(op.f('ix_customer_address_table_customer_address_id'), table_name='customer_address_table')
    op.alter_column('customer_address_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_delivery_instructions',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_longitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=11, scale=8),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_latitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=8),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_country',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_postal_code',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_state_province',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_city',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_street_address_2',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_street_address_1',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('customer_address_table', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('customer_activity_log_customer_id_fkey'), 'customer_activity_log', 'customer_table', ['customer_id'], ['customer_id'])
    op.drop_index(op.f('ix_customer_activity_log_log_id'), table_name='customer_activity_log')
    op.drop_index(op.f('ix_customer_activity_log_customer_id'), table_name='customer_activity_log')
    op.alter_column('customer_activity_log', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'details',
               existing_type=sa.String(),
               type_=postgresql.JSONB(astext_type=sa.Text()),
               existing_nullable=True)
    op.alter_column('customer_activity_log', 'customer_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_cuisines_cuisine_id'), table_name='cuisines')
    op.alter_column('cuisines', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('cuisines', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('cuisines', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_country_table_country_id'), table_name='country_table')
    op.create_index(op.f('country_table_country_name_key'), 'country_table', ['country_name'], unique=True)
    op.alter_column('country_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('country_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('country_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_combo_item_components_combo_item_id'), 'combo_item_components', 'combo_item', ['combo_item_id'], ['combo_item_id'])
    op.create_foreign_key(op.f('fk_combo_item_components_menu_item_id'), 'combo_item_components', 'menu_item', ['menu_item_id'], ['menu_item_id'])
    op.drop_index(op.f('ix_combo_item_components_menu_item_id'), table_name='combo_item_components')
    op.drop_index(op.f('ix_combo_item_components_combo_item_id'), table_name='combo_item_components')
    op.drop_index(op.f('ix_combo_item_components_combo_item_component_id'), table_name='combo_item_components')
    op.alter_column('combo_item_components', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'menu_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item_components', 'combo_item_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_combo_item_restaurant_id'), 'combo_item', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.create_foreign_key(op.f('fk_combo_item_combo_item_component_id'), 'combo_item', 'combo_item_components', ['combo_item_component_id'], ['combo_item_component_id'])
    op.drop_index(op.f('ix_combo_item_restaurant_id'), table_name='combo_item')
    op.drop_index(op.f('ix_combo_item_combo_item_id'), table_name='combo_item')
    op.drop_index(op.f('ix_combo_item_combo_item_component_id'), table_name='combo_item')
    op.alter_column('combo_item', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('combo_item', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('combo_item', 'combo_item_component_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_city_table_state_id'), 'city_table', 'state_table', ['state_id'], ['state_id'])
    op.drop_index(op.f('ix_city_table_state_id'), table_name='city_table')
    op.drop_index(op.f('ix_city_table_city_id'), table_name='city_table')
    op.alter_column('city_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('city_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('city_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('city_table', 'state_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_chain_location_table_chain_id'), 'chain_location_table', 'chain_info_table', ['chain_id'], ['chain_id'])
    op.create_foreign_key(op.f('fk_chain_location_table_pincode_id'), 'chain_location_table', 'pincode_table', ['pincode_id'], ['pincode_id'])
    op.drop_index(op.f('ix_chain_location_table_pincode_id'), table_name='chain_location_table')
    op.drop_index(op.f('ix_chain_location_table_chain_location_id'), table_name='chain_location_table')
    op.drop_index(op.f('ix_chain_location_table_chain_id'), table_name='chain_location_table')
    op.alter_column('chain_location_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'longitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=11, scale=8),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'latitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=8),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'pincode_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'landmark',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'address_line',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('chain_location_table', 'chain_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_chain_info_table_chain_id'), table_name='chain_info_table')
    op.alter_column('chain_info_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'chain_logo_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('chain_info_table', 'chain_website_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_chain_contact_table_chain_id'), 'chain_contact_table', 'chain_info_table', ['chain_id'], ['chain_id'])
    op.drop_index(op.f('ix_chain_contact_table_chain_id'), table_name='chain_contact_table')
    op.drop_index(op.f('ix_chain_contact_table_chain_contact_id'), table_name='chain_contact_table')
    op.alter_column('chain_contact_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'contact_label',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('chain_contact_table', 'chain_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_branch_timing_policy_restaurant_id'), 'branch_timing_policy', 'restaurant_table', ['restaurant_id'], ['restaurant_id'])
    op.drop_index(op.f('ix_branch_timing_policy_restaurant_id'), table_name='branch_timing_policy')
    op.drop_index(op.f('ix_branch_timing_policy_branch_timing_id'), table_name='branch_timing_policy')
    op.alter_column('branch_timing_policy', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'table_booking_close_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'table_booking_open_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'food_ordering_closing_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'food_ordering_start_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'closing_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'opening_time',
               existing_type=sa.String(),
               type_=postgresql.TIME(),
               existing_nullable=True)
    op.alter_column('branch_timing_policy', 'restaurant_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_branch_location_table_branch_id'), 'branch_location_table', 'branch_info_table', ['branch_id'], ['branch_id'])
    op.create_foreign_key(op.f('fk_branch_location_table_pincode_id'), 'branch_location_table', 'pincode_table', ['pincode_id'], ['pincode_id'])
    op.drop_index(op.f('ix_branch_location_table_pincode_id'), table_name='branch_location_table')
    op.drop_index(op.f('ix_branch_location_table_branch_location_id'), table_name='branch_location_table')
    op.drop_index(op.f('ix_branch_location_table_branch_id'), table_name='branch_location_table')
    op.alter_column('branch_location_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'longitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=11, scale=8),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'latitude',
               existing_type=sa.String(),
               type_=sa.NUMERIC(precision=10, scale=8),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'pincode_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'landmark',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'address_line',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('branch_location_table', 'branch_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_branch_info_table_chain_id'), 'branch_info_table', 'chain_info_table', ['chain_id'], ['chain_id'])
    op.drop_index(op.f('ix_branch_info_table_chain_id'), table_name='branch_info_table')
    op.drop_index(op.f('ix_branch_info_table_branch_id'), table_name='branch_info_table')
    op.alter_column('branch_info_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_personalized_greeting',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_logo_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'branch_website_url',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('branch_info_table', 'chain_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_branch_contact_table_branch_id'), 'branch_contact_table', 'branch_info_table', ['branch_id'], ['branch_id'])
    op.drop_index(op.f('ix_branch_contact_table_branch_id'), table_name='branch_contact_table')
    op.drop_index(op.f('ix_branch_contact_table_branch_contact_id'), table_name='branch_contact_table')
    op.alter_column('branch_contact_table', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('branch_contact_table', 'branch_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.drop_index(op.f('ix_allergens_allergen_id'), table_name='allergens')
    op.alter_column('allergens', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('allergens', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('allergens', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('allergens', 'allergen_description',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.create_foreign_key(op.f('fk_account_lock_user_id'), 'account_lock', 'user', ['user_id'], ['user_id'])
    op.drop_index(op.f('ix_account_lock_user_id'), table_name='account_lock')
    op.drop_index(op.f('ix_account_lock_account_lock_id'), table_name='account_lock')
    op.alter_column('account_lock', 'deleted_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('account_lock', 'updated_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('account_lock', 'created_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_unlocked_by',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_unlocked_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_failed_attempts',
               existing_type=sa.String(),
               type_=sa.INTEGER(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_reason',
               existing_type=sa.String(),
               type_=sa.TEXT(),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_until',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('account_lock', 'account_lock_at',
               existing_type=sa.String(),
               type_=postgresql.TIMESTAMP(timezone=True),
               existing_nullable=True)
    op.alter_column('account_lock', 'user_id',
               existing_type=sa.String(),
               type_=sa.UUID(),
               existing_nullable=True)
    # ### end Alembic commands ###
